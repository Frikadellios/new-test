import Uploader from './editorjs-uploader.js';

const LOADER_DELAY = 500;
export default class HeaderNew {
	// constructor({ data, config, api, block }) {
	constructor(params) {
		this.settings = [
			{
				name: 'withBorder',
				title: 'Centered Logotype Only',
				icon: `<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M15.8 10.592v2.043h2.35v2.138H15.8v2.232h-2.25v-2.232h-2.4v-2.138h2.4v-2.28h2.25v.237h1.15-1.15zM1.9 8.455v-3.42c0-1.154.985-2.09 2.2-2.09h4.2v2.137H4.15v3.373H1.9zm0 2.137h2.25v3.325H8.3v2.138H4.1c-1.215 0-2.2-.936-2.2-2.09v-3.373zm15.05-2.137H14.7V5.082h-4.15V2.945h4.2c1.215 0 2.2.936 2.2 2.09v3.42z"/></svg>`,
			},
			{
				label: 'Left side Logotype',
				name: 'stretched',
				icon: `<svg width="17" height="10" viewBox="0 0 17 10" xmlns="http://www.w3.org/2000/svg"><path d="M13.568 5.925H4.056l1.703 1.703a1.125 1.125 0 0 1-1.59 1.591L.962 6.014A1.069 1.069 0 0 1 .588 4.26L4.38.469a1.069 1.069 0 0 1 1.512 1.511L4.084 3.787h9.606l-1.85-1.85a1.069 1.069 0 1 1 1.512-1.51l3.792 3.791a1.069 1.069 0 0 1-.475 1.788L13.514 9.16a1.125 1.125 0 0 1-1.59-1.591l1.644-1.644z"/></svg>`,
			},
			{
				title: 'Add Navigation Under Header',
				name: 'withBackground',
				icon: `<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.043 8.265l3.183-3.183h-2.924L4.75 10.636v2.923l4.15-4.15v2.351l-2.158 2.159H8.9v2.137H4.7c-1.215 0-2.2-.936-2.2-2.09v-8.93c0-1.154.985-2.09 2.2-2.09h10.663l.033-.033.034.034c1.178.04 2.12.96 2.12 2.089v3.23H15.3V5.359l-2.906 2.906h-2.35zM7.951 5.082H4.75v3.201l3.201-3.2zm5.099 7.078v3.04h4.15v-3.04h-4.15zm-1.1-2.137h6.35c.635 0 1.15.489 1.15 1.092v5.13c0 .603-.515 1.092-1.15 1.092h-6.35c-.635 0-1.15-.489-1.15-1.092v-5.13c0-.603.515-1.092 1.15-1.092z"/></svg>`,
			},
		];

		this.api = params.api;

		this.nodes = {
			wrapper: null,
			headerClass: null,
			headerWrapperClass: null,
			showPhone: null,
			phoneAsImage: null,
			phone: null,
			logotype: null,
			header_bg: '#FFF',
		};

		this.config = {
			endpoint: params.config.endpoint || '',
			field: params.config.field || 'image',
			types: params.config.types || 'image/*',
			namePlaceholder: params.config.namePlaceholder || 'Name',
			descriptionPlaceholder: params.config.descriptionPlaceholder || 'Description',
			linkPlaceholder: params.config.linkPlaceholder || 'Link',
		};

		/**
		 * Set saved state
		 */
		this.data = params.data;

		this.config.uploader = params.config.uploader;
		this.uploader = new Uploader({
			config: this.config,
			getCurrentFile: () => this.data.logotype,
			onUpload: (response) => this.onUpload({ body: response }),
			onError: (error) => this.uploadingFailed(error),
		});

		this.onUpload = (response) => {
			const {
				body: { success, file },
			} = response;

			if (success && file && file.url) {
				this.data.logotype = file.url;

				this.showFullImage();
			}
			// super.onUpload(response);
			params.block.save().then((state) => {
				params.api.blocks.update(state.id, state.data);
			});
		};
	}

	onUpload(response) {
		const {
			body: { success, file },
		} = response;

		if (success && file && file.url) {
			this.data.logotype = file.url;

			this.showFullImage();
		}
	}

	static get toolbox() {
		return {
			title: 'headerNew',
			icon: `<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>`,
		};
	}

	render() {
		// const input = document.createElement('input');
		// input.value = this.data && this.data.url ? this.data.url : '';
		// return input;

		// const { name, description, logotype, link } = this.data;

		const { headerClass, headerWrapperClass, showPhone, phoneAsImage, phone, logotype } = this.data;

		this.nodes.wrapper = this.make('div', this.CSS.wrapper);

		this.nodes.wrapperParams = this.make('div', this.CSS.wrapperParams);
		this.nodes.wrapperHeader = this.make('div', this.CSS.wrapperHeader, {
			// style: `background-color:${this.nodes.header_bg}`
		});

		this.nodes.headerClass = this.make('div', this.CSS.headerClass, {
			contentEditable: true,
		});
		const headerClassInput = this.make('input', '', {
			contentEditable: true,
			type: 'text',
			name: 'headerClass',
			value: this.data && this.data.headerClass ? this.data.headerClass : '',
		});
		const headerClassLabel = this.make(
			'label',
			'',
			{
				contentEditable: false,
				for: 'headerClass',
			},
			'Header Class'
		);

		this.nodes.headerWrapperClass = this.make('div', this.CSS.headerWrapperClass, {
			contentEditable: true,
		});

		const headerWrapperInput = this.make('input', '', {
			contentEditable: true,
			type: 'text',
			name: 'headerWrapper',
			value: this.data && this.data.headerWrapperClass ? this.data.headerWrapperClass : '',
		});
		const headerWrapperLabel = this.make(
			'label',
			'',
			{
				contentEditable: false,
				for: 'headerWrapper',
			},
			'Header Inner Wrapper Class'
		);

		this.nodes.showPhone = this.make('div', this.CSS.showPhone, {
			contentEditable: true,
		});

		// const headerShowPhoneInput = this.make('input', '', {
		// 	// contentEditable: true,
		// 	type: 'checkbox',
		// 	checked: this.data && this.data.showPhone ? this.data.showPhone : true,
		// 	value: 'showPhone',
		// 	name: 'headerShowPhone',
		// });
		let headerShowPhoneInput = document.createElement('div');
		headerShowPhoneInput.innerHTML = `
		<label contenteditable="false">
			<input type="checkbox" value="showPhone" name="headerShowPhone" ${this.data.showPhone ? 'checked' : ''}>Show Phone
		</label>`;

		// const headerShowPhoneLabel = this.make(
		// 	'label',
		// 	'',
		// 	{
		// 		contentEditable: false,
		// 		for: 'headerShowPhone',
		// 	},
		// 	'Show Phone'
		// );

		this.nodes.phoneAsImage = this.make('div', this.CSS.phoneAsImage, {
			contentEditable: true,
		});

		// const headerPhoneAsImageInput = this.make('input', '', {
		// 	// contentEditable: true,
		// 	type: 'checkbox',
		// 	checked: this.data && this.data.phoneAsImage ? `${this.data.phoneAsImage}` : 'false',
		// 	value: 'showPhoneAsImage',
		// 	name: 'showPhoneAsImage',
		// });
		let headerPhoneAsImageInput = document.createElement('div');
		headerPhoneAsImageInput.innerHTML = `
		<label contenteditable="false">
			<input type="checkbox" value="showPhoneAsImage" name="showPhoneAsImage" ${
				this.data.phoneAsImage ? 'checked' : ''
			}>Phone as Image
		</label>`;

		// const headerPhoneAsImageLabel = this.make(
		// 	'label',
		// 	'',
		// 	{
		// 		contentEditable: false,
		// 		for: 'showPhoneAsImage',
		// 	},
		// 	'Phone as Image'
		// );

		this.nodes.phone = this.make(
			'div',
			this.CSS.phone,
			{
				contentEditable: true,
			},
			this.data && this.data.phone ? this.data.phone : 'Questions? Call: ˜!PHONE!˜'
		);
		const logoplaceholder =
			'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTg4IiBoZWlnaHQ9IjU1IiB2aWV3Qm94PSIwIDAgMTg4IDU1IiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cmVjdCB3aWR0aD0iMTg4IiBoZWlnaHQ9IjU0IiBmaWxsPSIjRDlEOUQ5Ii8+CjxwYXRoIGQ9Ik01OC41NzY4IDEyLjZWNDJINzMuNjk2OFYzOC42NEg2Mi4xNDY4VjEyLjZINTguNTc2OFpNNzguMzEzNSAyNy4zQzc4LjMxMzUgMjUuMDg4IDc4Ljc4OTUgMjMuMTE0IDc5Ljc0MTUgMjEuMzc4QzgwLjcyMTUgMTkuNjQyIDgyLjA1MTUgMTguMjcgODMuNzMxNSAxNy4yNjJDODUuNDExNSAxNi4yNTQgODcuMzE1NSAxNS43NSA4OS40NDM1IDE1Ljc1QzkxLjU5OTUgMTUuNzUgOTMuNTAzNSAxNi4yNTQgOTUuMTU1NSAxNy4yNjJDOTYuODM1NSAxOC4yNyA5OC4xNTE1IDE5LjY0MiA5OS4xMDM1IDIxLjM3OEMxMDAuMDg0IDIzLjExNCAxMDAuNTc0IDI1LjA4OCAxMDAuNTc0IDI3LjNDMTAwLjU3NCAyOS41MTIgMTAwLjA4NCAzMS40ODYgOTkuMTAzNSAzMy4yMjJDOTguMTUxNSAzNC45NTggOTYuODM1NSAzNi4zMyA5NS4xNTU1IDM3LjMzOEM5My41MDM1IDM4LjM0NiA5MS41OTk1IDM4Ljg1IDg5LjQ0MzUgMzguODVDODcuMzE1NSAzOC44NSA4NS40MTE1IDM4LjM0NiA4My43MzE1IDM3LjMzOEM4Mi4wNTE1IDM2LjMzIDgwLjcyMTUgMzQuOTU4IDc5Ljc0MTUgMzMuMjIyQzc4Ljc4OTUgMzEuNDg2IDc4LjMxMzUgMjkuNTEyIDc4LjMxMzUgMjcuM1pNNzQuNTMzNSAyNy4zQzc0LjUzMzUgMjkuNDI4IDc0Ljg5NzUgMzEuNDE2IDc1LjYyNTUgMzMuMjY0Qzc2LjM4MTUgMzUuMTEyIDc3LjQzMTUgMzYuNzIyIDc4Ljc3NTUgMzguMDk0QzgwLjExOTUgMzkuNDM4IDgxLjcwMTUgNDAuNTAyIDgzLjUyMTUgNDEuMjg2Qzg1LjM0MTUgNDIuMDQyIDg3LjMxNTUgNDIuNDIgODkuNDQzNSA0Mi40MkM5MS41OTk1IDQyLjQyIDkzLjU3MzUgNDIuMDQyIDk1LjM2NTUgNDEuMjg2Qzk3LjE4NTUgNDAuNTAyIDk4Ljc2NzUgMzkuNDM4IDEwMC4xMTIgMzguMDk0QzEwMS40NTYgMzYuNzIyIDEwMi40OTIgMzUuMTEyIDEwMy4yMiAzMy4yNjRDMTAzLjk3NiAzMS40MTYgMTA0LjM1NCAyOS40MjggMTA0LjM1NCAyNy4zQzEwNC4zNTQgMjUuMTQ0IDEwMy45NzYgMjMuMTU2IDEwMy4yMiAyMS4zMzZDMTAyLjQ5MiAxOS40ODggMTAxLjQ1NiAxNy44OTIgMTAwLjExMiAxNi41NDhDOTguNzY3NSAxNS4xNzYgOTcuMTg1NSAxNC4xMTIgOTUuMzY1NSAxMy4zNTZDOTMuNTczNSAxMi41NzIgOTEuNTk5NSAxMi4xOCA4OS40NDM1IDEyLjE4Qzg3LjMxNTUgMTIuMTggODUuMzQxNSAxMi41NzIgODMuNTIxNSAxMy4zNTZDODEuNzAxNSAxNC4xMTIgODAuMTE5NSAxNS4xNzYgNzguNzc1NSAxNi41NDhDNzcuNDMxNSAxNy44OTIgNzYuMzgxNSAxOS40ODggNzUuNjI1NSAyMS4zMzZDNzQuODk3NSAyMy4xNTYgNzQuNTMzNSAyNS4xNDQgNzQuNTMzNSAyNy4zWk0xMjMuMDQ1IDMwLjQ1SDEzMi44MzFDMTMyLjU3OSAzMS41OTggMTMyLjE3MyAzMi42NzYgMTMxLjYxMyAzMy42ODRDMTMxLjA4MSAzNC42OTIgMTMwLjM5NSAzNS41ODggMTI5LjU1NSAzNi4zNzJDMTI4LjcxNSAzNy4xNTYgMTI3LjcwNyAzNy43NzIgMTI2LjUzMSAzOC4yMkMxMjUuMzgzIDM4LjY0IDEyNC4wODEgMzguODUgMTIyLjYyNSAzOC44NUMxMjAuNTUzIDM4Ljg1IDExOC42NzcgMzguMzYgMTE2Ljk5NyAzNy4zOEMxMTUuMzE3IDM2LjQgMTEzLjk3MyAzNS4wNDIgMTEyLjk2NSAzMy4zMDZDMTExLjk4NSAzMS41NyAxMTEuNDk1IDI5LjU2OCAxMTEuNDk1IDI3LjNDMTExLjQ5NSAyNS4wMDQgMTExLjk4NSAyMy4wMDIgMTEyLjk2NSAyMS4yOTRDMTEzLjk3MyAxOS41NTggMTE1LjMxNyAxOC4yIDExNi45OTcgMTcuMjJDMTE4LjY3NyAxNi4yNCAxMjAuNTUzIDE1Ljc1IDEyMi42MjUgMTUuNzVDMTI0Ljg2NSAxNS43NSAxMjYuODExIDE2LjE5OCAxMjguNDYzIDE3LjA5NEMxMzAuMTE1IDE3Ljk2MiAxMzEuNDAzIDE5LjE4IDEzMi4zMjcgMjAuNzQ4TDEzNC44NDcgMTguNDM4QzEzNC4wMDcgMTcuMDY2IDEzMi45NzEgMTUuOTE4IDEzMS43MzkgMTQuOTk0QzEzMC41MzUgMTQuMDcgMTI5LjE2MyAxMy4zNyAxMjcuNjIzIDEyLjg5NEMxMjYuMTExIDEyLjQxOCAxMjQuNDQ1IDEyLjE4IDEyMi42MjUgMTIuMThDMTIwLjQ5NyAxMi4xOCAxMTguNTIzIDEyLjU1OCAxMTYuNzAzIDEzLjMxNEMxMTQuODgzIDE0LjA0MiAxMTMuMzAxIDE1LjA5MiAxMTEuOTU3IDE2LjQ2NEMxMTAuNjEzIDE3LjgwOCAxMDkuNTYzIDE5LjQwNCAxMDguODA3IDIxLjI1MkMxMDguMDc5IDIzLjEgMTA3LjcxNSAyNS4xMTYgMTA3LjcxNSAyNy4zQzEwNy43MTUgMjkuNDg0IDEwOC4wNzkgMzEuNSAxMDguODA3IDMzLjM0OEMxMDkuNTYzIDM1LjE5NiAxMTAuNjEzIDM2LjgwNiAxMTEuOTU3IDM4LjE3OEMxMTMuMzAxIDM5LjUyMiAxMTQuODgzIDQwLjU3MiAxMTYuNzAzIDQxLjMyOEMxMTguNTIzIDQyLjA1NiAxMjAuNDk3IDQyLjQyIDEyMi42MjUgNDIuNDJDMTI0Ljg2NSA0Mi40MiAxMjYuODUzIDQyLjAxNCAxMjguNTg5IDQxLjIwMkMxMzAuMzUzIDQwLjM2MiAxMzEuODM3IDM5LjIyOCAxMzMuMDQxIDM3LjhDMTM0LjI0NSAzNi4zNzIgMTM1LjE1NSAzNC43NDggMTM1Ljc3MSAzMi45MjhDMTM2LjM4NyAzMS4wOCAxMzYuNjk1IDI5LjEzNCAxMzYuNjk1IDI3LjA5SDEyMy4wNDVWMzAuNDVaTTE0NC4wNjIgMjcuM0MxNDQuMDYyIDI1LjA4OCAxNDQuNTM4IDIzLjExNCAxNDUuNDkgMjEuMzc4QzE0Ni40NyAxOS42NDIgMTQ3LjggMTguMjcgMTQ5LjQ4IDE3LjI2MkMxNTEuMTYgMTYuMjU0IDE1My4wNjQgMTUuNzUgMTU1LjE5MiAxNS43NUMxNTcuMzQ4IDE1Ljc1IDE1OS4yNTIgMTYuMjU0IDE2MC45MDQgMTcuMjYyQzE2Mi41ODQgMTguMjcgMTYzLjkgMTkuNjQyIDE2NC44NTIgMjEuMzc4QzE2NS44MzIgMjMuMTE0IDE2Ni4zMjIgMjUuMDg4IDE2Ni4zMjIgMjcuM0MxNjYuMzIyIDI5LjUxMiAxNjUuODMyIDMxLjQ4NiAxNjQuODUyIDMzLjIyMkMxNjMuOSAzNC45NTggMTYyLjU4NCAzNi4zMyAxNjAuOTA0IDM3LjMzOEMxNTkuMjUyIDM4LjM0NiAxNTcuMzQ4IDM4Ljg1IDE1NS4xOTIgMzguODVDMTUzLjA2NCAzOC44NSAxNTEuMTYgMzguMzQ2IDE0OS40OCAzNy4zMzhDMTQ3LjggMzYuMzMgMTQ2LjQ3IDM0Ljk1OCAxNDUuNDkgMzMuMjIyQzE0NC41MzggMzEuNDg2IDE0NC4wNjIgMjkuNTEyIDE0NC4wNjIgMjcuM1pNMTQwLjI4MiAyNy4zQzE0MC4yODIgMjkuNDI4IDE0MC42NDYgMzEuNDE2IDE0MS4zNzQgMzMuMjY0QzE0Mi4xMyAzNS4xMTIgMTQzLjE4IDM2LjcyMiAxNDQuNTI0IDM4LjA5NEMxNDUuODY4IDM5LjQzOCAxNDcuNDUgNDAuNTAyIDE0OS4yNyA0MS4yODZDMTUxLjA5IDQyLjA0MiAxNTMuMDY0IDQyLjQyIDE1NS4xOTIgNDIuNDJDMTU3LjM0OCA0Mi40MiAxNTkuMzIyIDQyLjA0MiAxNjEuMTE0IDQxLjI4NkMxNjIuOTM0IDQwLjUwMiAxNjQuNTE2IDM5LjQzOCAxNjUuODYgMzguMDk0QzE2Ny4yMDQgMzYuNzIyIDE2OC4yNCAzNS4xMTIgMTY4Ljk2OCAzMy4yNjRDMTY5LjcyNCAzMS40MTYgMTcwLjEwMiAyOS40MjggMTcwLjEwMiAyNy4zQzE3MC4xMDIgMjUuMTQ0IDE2OS43MjQgMjMuMTU2IDE2OC45NjggMjEuMzM2QzE2OC4yNCAxOS40ODggMTY3LjIwNCAxNy44OTIgMTY1Ljg2IDE2LjU0OEMxNjQuNTE2IDE1LjE3NiAxNjIuOTM0IDE0LjExMiAxNjEuMTE0IDEzLjM1NkMxNTkuMzIyIDEyLjU3MiAxNTcuMzQ4IDEyLjE4IDE1NS4xOTIgMTIuMThDMTUzLjA2NCAxMi4xOCAxNTEuMDkgMTIuNTcyIDE0OS4yNyAxMy4zNTZDMTQ3LjQ1IDE0LjExMiAxNDUuODY4IDE1LjE3NiAxNDQuNTI0IDE2LjU0OEMxNDMuMTggMTcuODkyIDE0Mi4xMyAxOS40ODggMTQxLjM3NCAyMS4zMzZDMTQwLjY0NiAyMy4xNTYgMTQwLjI4MiAyNS4xNDQgMTQwLjI4MiAyNy4zWiIgZmlsbD0iYmxhY2siLz4KPHBhdGggZD0iTTIwIDI2LjYyNUwyMy4yNSAyMy4zNzVNMjMuMjUgMjMuMzc1TDM0LjYyNSAxMkw0NiAyMy4zNzVNMjMuMjUgMjMuMzc1VjM5LjYyNUMyMy4yNSA0MC4wNTYgMjMuNDIxMiA0MC40NjkzIDIzLjcyNiA0MC43NzRDMjQuMDMwNyA0MS4wNzg4IDI0LjQ0NCA0MS4yNSAyNC44NzUgNDEuMjVIMjkuNzVNNDYgMjMuMzc1TDQ5LjI1IDI2LjYyNU00NiAyMy4zNzVWMzkuNjI1QzQ2IDQwLjA1NiA0NS44Mjg4IDQwLjQ2OTMgNDUuNTI0IDQwLjc3NEM0NS4yMTkzIDQxLjA3ODggNDQuODA2IDQxLjI1IDQ0LjM3NSA0MS4yNUgzOS41TTI5Ljc1IDQxLjI1QzMwLjE4MSA0MS4yNSAzMC41OTQzIDQxLjA3ODggMzAuODk5IDQwLjc3NEMzMS4yMDM4IDQwLjQ2OTMgMzEuMzc1IDQwLjA1NiAzMS4zNzUgMzkuNjI1VjMzLjEyNUMzMS4zNzUgMzIuNjk0IDMxLjU0NjIgMzIuMjgwNyAzMS44NTEgMzEuOTc2QzMyLjE1NTcgMzEuNjcxMiAzMi41NjkgMzEuNSAzMyAzMS41SDM2LjI1QzM2LjY4MSAzMS41IDM3LjA5NDMgMzEuNjcxMiAzNy4zOTkgMzEuOTc2QzM3LjcwMzggMzIuMjgwNyAzNy44NzUgMzIuNjk0IDM3Ljg3NSAzMy4xMjVWMzkuNjI1QzM3Ljg3NSA0MC4wNTYgMzguMDQ2MiA0MC40NjkzIDM4LjM1MSA0MC43NzRDMzguNjU1NyA0MS4wNzg4IDM5LjA2OSA0MS4yNSAzOS41IDQxLjI1TTI5Ljc1IDQxLjI1SDM5LjUiIHN0cm9rZT0iYmxhY2siIHN0cm9rZS13aWR0aD0iMyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjwvc3ZnPgo=';

		this.nodes.logotype = this.make('img', this.CSS.logotype, {
			src: this.data && this.data.logotype ? this.data.logotype : logoplaceholder,
		});

		// if (logotype) {
		// 	this.nodes.logotype.style.background = `url('${logotype}') center center / cover no-repeat`;
		// }

		this.nodes.logotype.addEventListener('click', () => {
			this.uploader.uploadSelectedFile({
				onPreview: () => {
					this.addLoader();
				},
			});
		});

		this.nodes.headerClass.appendChild(headerClassLabel);
		this.nodes.headerClass.appendChild(headerClassInput);

		this.nodes.headerWrapperClass.appendChild(headerWrapperLabel);
		this.nodes.headerWrapperClass.appendChild(headerWrapperInput);
		headerShowPhoneInput.addEventListener('change', (e) => {
			if (e.target.checked == true) {
				this.nodes.phone.style.display = 'block';
			} else {
				this.nodes.phone.style.display = 'none';
			}
		});
		// headerShowPhoneLabel.prepend(headerShowPhoneInput);
		this.nodes.showPhone.appendChild(headerShowPhoneInput);

		// headerPhoneAsImageLabel.prepend(headerPhoneAsImageInput);
		// headerPhoneAsImageLabel.prepend(headerPhoneAsImageInput);
		this.nodes.phoneAsImage.appendChild(headerPhoneAsImageInput);

		this.nodes.wrapperParams.appendChild(this.nodes.headerClass);
		this.nodes.wrapperParams.appendChild(this.nodes.headerWrapperClass);
		this.nodes.wrapperParams.appendChild(this.nodes.showPhone);
		this.nodes.wrapperParams.appendChild(this.nodes.phoneAsImage);

		this.nodes.wrapperHeader.appendChild(this.nodes.logotype);
		this.nodes.wrapperHeader.appendChild(this.nodes.phone);

		this.nodes.wrapper.appendChild(this.nodes.wrapperHeader);
		this.nodes.wrapper.appendChild(this.nodes.wrapperParams);

		// const result = this.nodes.wrapper;

		if (this.data.logotype) {
			this.setFullImageSource(this.data.logotype);
		}

		return this.nodes.wrapper;
	}
	// save(blockContent) {
	// 	return {
	// 		url: blockContent.value,
	// 	};
	// }
	setFullImageSource(image) {
		const imageUrlWithToken = this.uploader.config.uploader.addTokenToURL(image) + '';
		this.nodes.logotype.src = imageUrlWithToken;
	}

	showFullImage() {
		setTimeout(() => {
			this.nodes.logotype.classList.remove(this.CSS.loader);
			this.setFullImageSource(this.data.logotype);
		}, LOADER_DELAY);
	}

	save(toolsContent) {
		// const name = toolsContent.querySelector(`.${this.CSS.name}`).textContent;
		// const description = toolsContent.querySelector(`.${this.CSS.description}`).textContent;
		// const link = toolsContent.querySelector(`.${this.CSS.link}`).textContent;
		const logotype = this.data.logotype;
		const headerClass = toolsContent.querySelector(`.${this.CSS.headerClass} input`).value;
		const headerWrapperClass = toolsContent.querySelector(`.${this.CSS.headerWrapperClass} input`).value;
		const showPhone = toolsContent.querySelector(`[name='headerShowPhone']`).checked ? true : false;
		const phoneAsImage = toolsContent.querySelector(`.${this.CSS.phoneAsImage} input`).checked;
		const phone = toolsContent.querySelector(`.${this.CSS.phone}`).textContent;

		/**
		 * Fill missing fields with empty strings
		 */

		Object.assign(this.data, {
			headerClass: headerClass.trim() || '',
			headerWrapperClass: headerWrapperClass.trim() || '',
			showPhone: showPhone || false,
			phoneAsImage: phoneAsImage || false,
			phone: phone.trim() || '',
			logotype: logotype || '',
		});
		return this.data;
	}

	stopLoading() {
		setTimeout(() => {
			this.nodes.logotype.classList.remove(this.CSS.loader);
			this.nodes.logotype.removeAttribute('style');
		}, LOADER_DELAY);
	}

	/**
	 * Show loader when file upload started
	 */
	addLoader() {
		this.nodes.logotype.style.background = 'none';
		this.nodes.logotype.classList.add(this.CSS.loader);
	}

	/**
	 * If file uploading failed, remove loader and show notification
	 * @param {string} errorMessage -  error message
	 */
	uploadingFailed(errorMessage) {
		this.stopLoading();

		this.api.notifier.show({
			message: errorMessage,
			style: 'error',
		});
	}

	get CSS() {
		return {
			baseClass: this.api.styles.block,
			input: this.api.styles.input,
			loader: this.api.styles.loader,

			/**
			 * Tool's classes
			 */
			wrapper: 'cdx-componentWrapper',
			wrapperParams: 'cdx-headerParams',
			wrapperHeader: 'cdx-header',
			headerClass: 'cdx-headerParams__headerClass',
			headerWrapperClass: 'cdx-headerParams__WrapperClass',
			showPhone: 'cdx-headerParams__showPhone',
			phoneAsImage: 'cdx-headerParams__phoneAsImage',

			phone: 'cdx-header__phone',
			logotype: 'cdx-header__logotype',
			name: 'cdx-header__name',
		};
	}

	validate(savedData) {
		/**
		 * Return false if fields are empty
		 */
		return (
			savedData.headerClass ||
			savedData.headerWrapperClass ||
			savedData.showPhone ||
			savedData.phoneAsImage ||
			savedData.phone ||
			savedData.logotype
		);
	}

	make(tagName, classNames = null, attributes = {}, content = '') {
		const el = document.createElement(tagName);

		if (Array.isArray(classNames)) {
			el.classList.add(...classNames);
		} else if (classNames) {
			el.classList.add(classNames);
		}

		for (const attrName in attributes) {
			el[attrName] = attributes[attrName];
		}
		if (content !== '') {
			el.innerHTML = content;
		}

		return el;
	}

	renderSettings() {
		const settings = [
			{
				name: 'Custom Configuration',
				title: 'Custom Configuration',
				type: 'showConfig',
				prop: { showSettings: true },
				icon: `<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
				<rect width="20" height="20" rx="5" fill="white"/>
				<path d="M10 6.25V5M10 6.25C9.66848 6.25 9.35054 6.3817 9.11612 6.61612C8.8817 6.85054 8.75 7.16848 8.75 7.5C8.75 7.83152 8.8817 8.14946 9.11612 8.38388C9.35054 8.6183 9.66848 8.75 10 8.75M10 6.25C10.3315 6.25 10.6495 6.3817 10.8839 6.61612C11.1183 6.85054 11.25 7.16848 11.25 7.5C11.25 7.83152 11.1183 8.14946 10.8839 8.38388C10.6495 8.6183 10.3315 8.75 10 8.75M6.25 13.75C6.58152 13.75 6.89946 13.6183 7.13388 13.3839C7.3683 13.1495 7.5 12.8315 7.5 12.5C7.5 12.1685 7.3683 11.8505 7.13388 11.6161C6.89946 11.3817 6.58152 11.25 6.25 11.25M6.25 13.75C5.91848 13.75 5.60054 13.6183 5.36612 13.3839C5.1317 13.1495 5 12.8315 5 12.5C5 12.1685 5.1317 11.8505 5.36612 11.6161C5.60054 11.3817 5.91848 11.25 6.25 11.25M6.25 13.75V15M6.25 11.25V5M10 8.75V15M13.75 13.75C14.0815 13.75 14.3995 13.6183 14.6339 13.3839C14.8683 13.1495 15 12.8315 15 12.5C15 12.1685 14.8683 11.8505 14.6339 11.6161C14.3995 11.3817 14.0815 11.25 13.75 11.25M13.75 13.75C13.4185 13.75 13.1005 13.6183 12.8661 13.3839C12.6317 13.1495 12.5 12.8315 12.5 12.5C12.5 12.1685 12.6317 11.8505 12.8661 11.6161C13.1005 11.3817 13.4185 11.25 13.75 11.25M13.75 13.75V15M13.75 11.25V5" stroke="black" stroke-linecap="round" stroke-linejoin="round"/>
				</svg>												
				`,
			},
			{
				name: 'Logo with Phone',
				title: 'Logo with Phone [2 Columns]',
				type: 'header_showPhone',
				prop: { showPhone: true },
				icon: `<svg width="52" height="20" viewBox="0 0 52 20" fill="none" xmlns="http://www.w3.org/2000/svg">
				<rect width="52" height="20" rx="5" fill="white"/>
				<rect x="30" y="9" width="15" height="2" rx="1" fill="#33375D"/>
				<rect x="8" y="7" width="15" height="6" rx="1" fill="#33375D"/>
				<path d="M11.9274 9.44V11H12.0874V9.44H11.9274ZM13.5284 10.54C13.5284 10.632 13.549 10.7147 13.5904 10.788C13.633 10.86 13.6904 10.9167 13.7624 10.958C13.8344 10.9993 13.915 11.02 14.0044 11.02C14.095 11.02 14.1757 10.9993 14.2464 10.958C14.3184 10.9167 14.375 10.86 14.4164 10.788C14.459 10.7147 14.4804 10.632 14.4804 10.54C14.4804 10.4467 14.459 10.364 14.4164 10.292C14.375 10.22 14.3184 10.1633 14.2464 10.122C14.1757 10.0807 14.095 10.06 14.0044 10.06C13.915 10.06 13.8344 10.0807 13.7624 10.122C13.6904 10.1633 13.633 10.22 13.5904 10.292C13.549 10.364 13.5284 10.4467 13.5284 10.54ZM13.6904 10.54C13.6904 10.476 13.7037 10.4193 13.7304 10.37C13.7584 10.3193 13.7957 10.28 13.8424 10.252C13.8904 10.224 13.9444 10.21 14.0044 10.21C14.0644 10.21 14.1177 10.224 14.1644 10.252C14.2124 10.28 14.2497 10.3193 14.2764 10.37C14.3044 10.4193 14.3184 10.476 14.3184 10.54C14.3184 10.604 14.3044 10.6607 14.2764 10.71C14.2497 10.7593 14.2124 10.7987 14.1644 10.828C14.1177 10.856 14.0644 10.87 14.0044 10.87C13.9444 10.87 13.8904 10.856 13.8424 10.828C13.7957 10.7987 13.7584 10.7593 13.7304 10.71C13.7037 10.6607 13.6904 10.604 13.6904 10.54ZM15.8582 11.06C15.8582 11.1387 15.8775 11.208 15.9162 11.268C15.9548 11.3293 16.0082 11.3767 16.0762 11.41C16.1455 11.4433 16.2248 11.46 16.3142 11.46C16.3915 11.46 16.4648 11.442 16.5342 11.406C16.6035 11.37 16.6602 11.316 16.7042 11.244C16.7482 11.1733 16.7702 11.0853 16.7702 10.98V10.08H16.6102V10.98C16.6102 11.0573 16.5948 11.12 16.5642 11.168C16.5348 11.2173 16.4975 11.2533 16.4522 11.276C16.4068 11.2987 16.3608 11.31 16.3142 11.31C16.2542 11.31 16.2022 11.298 16.1582 11.274C16.1142 11.2513 16.0802 11.2207 16.0562 11.182C16.0322 11.1447 16.0202 11.104 16.0202 11.06H15.8582ZM15.8402 10.54C15.8402 10.6387 15.8608 10.724 15.9022 10.796C15.9435 10.868 15.9988 10.9233 16.0682 10.962C16.1375 11.0007 16.2135 11.02 16.2962 11.02C16.3735 11.02 16.4408 11.0007 16.4982 10.962C16.5555 10.9233 16.6002 10.868 16.6322 10.796C16.6655 10.724 16.6822 10.6387 16.6822 10.54C16.6822 10.44 16.6655 10.3547 16.6322 10.284C16.6002 10.212 16.5555 10.1567 16.4982 10.118C16.4408 10.0793 16.3735 10.06 16.2962 10.06C16.2135 10.06 16.1375 10.0793 16.0682 10.118C15.9988 10.1567 15.9435 10.212 15.9022 10.284C15.8608 10.3547 15.8402 10.44 15.8402 10.54ZM16.0022 10.54C16.0022 10.4693 16.0162 10.4093 16.0442 10.36C16.0735 10.3107 16.1122 10.2733 16.1602 10.248C16.2082 10.2227 16.2602 10.21 16.3162 10.21C16.3508 10.21 16.3855 10.2173 16.4202 10.232C16.4548 10.2467 16.4862 10.268 16.5142 10.296C16.5435 10.324 16.5668 10.3587 16.5842 10.4C16.6015 10.44 16.6102 10.4867 16.6102 10.54C16.6102 10.6107 16.5955 10.6707 16.5662 10.72C16.5368 10.7693 16.4995 10.8067 16.4542 10.832C16.4088 10.8573 16.3628 10.87 16.3162 10.87C16.2602 10.87 16.2082 10.8573 16.1602 10.832C16.1122 10.8067 16.0735 10.7693 16.0442 10.72C16.0162 10.6707 16.0022 10.6107 16.0022 10.54ZM18.2008 10.54C18.2008 10.632 18.2214 10.7147 18.2628 10.788C18.3054 10.86 18.3628 10.9167 18.4348 10.958C18.5068 10.9993 18.5874 11.02 18.6768 11.02C18.7674 11.02 18.8481 10.9993 18.9188 10.958C18.9908 10.9167 19.0474 10.86 19.0888 10.788C19.1314 10.7147 19.1528 10.632 19.1528 10.54C19.1528 10.4467 19.1314 10.364 19.0888 10.292C19.0474 10.22 18.9908 10.1633 18.9188 10.122C18.8481 10.0807 18.7674 10.06 18.6768 10.06C18.5874 10.06 18.5068 10.0807 18.4348 10.122C18.3628 10.1633 18.3054 10.22 18.2628 10.292C18.2214 10.364 18.2008 10.4467 18.2008 10.54ZM18.3628 10.54C18.3628 10.476 18.3761 10.4193 18.4028 10.37C18.4308 10.3193 18.4681 10.28 18.5148 10.252C18.5628 10.224 18.6168 10.21 18.6768 10.21C18.7368 10.21 18.7901 10.224 18.8368 10.252C18.8848 10.28 18.9221 10.3193 18.9488 10.37C18.9768 10.4193 18.9908 10.476 18.9908 10.54C18.9908 10.604 18.9768 10.6607 18.9488 10.71C18.9221 10.7593 18.8848 10.7987 18.8368 10.828C18.7901 10.856 18.7368 10.87 18.6768 10.87C18.6168 10.87 18.5628 10.856 18.5148 10.828C18.4681 10.7987 18.4308 10.7593 18.4028 10.71C18.3761 10.6607 18.3628 10.604 18.3628 10.54Z" fill="white"/>
				</svg>				
				`,
			},
			{
				name: 'Logo without Phone',
				title: 'Logo without Phone [Logo Centered]',
				type: 'header_showPhone',
				prop: { showPhone: false, logo: 'center' },
				icon: `<svg width="52" height="20" viewBox="0 0 52 20" fill="none" xmlns="http://www.w3.org/2000/svg">
				<rect width="52" height="20" rx="5" fill="white"/>
				<rect x="19" y="7" width="15" height="6" rx="1" fill="#33375D"/>
				<path d="M22.9274 9.44V11H23.0874V9.44H22.9274ZM24.5284 10.54C24.5284 10.632 24.549 10.7147 24.5904 10.788C24.633 10.86 24.6904 10.9167 24.7624 10.958C24.8344 10.9993 24.915 11.02 25.0044 11.02C25.095 11.02 25.1757 10.9993 25.2464 10.958C25.3184 10.9167 25.375 10.86 25.4164 10.788C25.459 10.7147 25.4804 10.632 25.4804 10.54C25.4804 10.4467 25.459 10.364 25.4164 10.292C25.375 10.22 25.3184 10.1633 25.2464 10.122C25.1757 10.0807 25.095 10.06 25.0044 10.06C24.915 10.06 24.8344 10.0807 24.7624 10.122C24.6904 10.1633 24.633 10.22 24.5904 10.292C24.549 10.364 24.5284 10.4467 24.5284 10.54ZM24.6904 10.54C24.6904 10.476 24.7037 10.4193 24.7304 10.37C24.7584 10.3193 24.7957 10.28 24.8424 10.252C24.8904 10.224 24.9444 10.21 25.0044 10.21C25.0644 10.21 25.1177 10.224 25.1644 10.252C25.2124 10.28 25.2497 10.3193 25.2764 10.37C25.3044 10.4193 25.3184 10.476 25.3184 10.54C25.3184 10.604 25.3044 10.6607 25.2764 10.71C25.2497 10.7593 25.2124 10.7987 25.1644 10.828C25.1177 10.856 25.0644 10.87 25.0044 10.87C24.9444 10.87 24.8904 10.856 24.8424 10.828C24.7957 10.7987 24.7584 10.7593 24.7304 10.71C24.7037 10.6607 24.6904 10.604 24.6904 10.54ZM26.8582 11.06C26.8582 11.1387 26.8775 11.208 26.9162 11.268C26.9548 11.3293 27.0082 11.3767 27.0762 11.41C27.1455 11.4433 27.2248 11.46 27.3142 11.46C27.3915 11.46 27.4648 11.442 27.5342 11.406C27.6035 11.37 27.6602 11.316 27.7042 11.244C27.7482 11.1733 27.7702 11.0853 27.7702 10.98V10.08H27.6102V10.98C27.6102 11.0573 27.5948 11.12 27.5642 11.168C27.5348 11.2173 27.4975 11.2533 27.4522 11.276C27.4068 11.2987 27.3608 11.31 27.3142 11.31C27.2542 11.31 27.2022 11.298 27.1582 11.274C27.1142 11.2513 27.0802 11.2207 27.0562 11.182C27.0322 11.1447 27.0202 11.104 27.0202 11.06H26.8582ZM26.8402 10.54C26.8402 10.6387 26.8608 10.724 26.9022 10.796C26.9435 10.868 26.9988 10.9233 27.0682 10.962C27.1375 11.0007 27.2135 11.02 27.2962 11.02C27.3735 11.02 27.4408 11.0007 27.4982 10.962C27.5555 10.9233 27.6002 10.868 27.6322 10.796C27.6655 10.724 27.6822 10.6387 27.6822 10.54C27.6822 10.44 27.6655 10.3547 27.6322 10.284C27.6002 10.212 27.5555 10.1567 27.4982 10.118C27.4408 10.0793 27.3735 10.06 27.2962 10.06C27.2135 10.06 27.1375 10.0793 27.0682 10.118C26.9988 10.1567 26.9435 10.212 26.9022 10.284C26.8608 10.3547 26.8402 10.44 26.8402 10.54ZM27.0022 10.54C27.0022 10.4693 27.0162 10.4093 27.0442 10.36C27.0735 10.3107 27.1122 10.2733 27.1602 10.248C27.2082 10.2227 27.2602 10.21 27.3162 10.21C27.3508 10.21 27.3855 10.2173 27.4202 10.232C27.4548 10.2467 27.4862 10.268 27.5142 10.296C27.5435 10.324 27.5668 10.3587 27.5842 10.4C27.6015 10.44 27.6102 10.4867 27.6102 10.54C27.6102 10.6107 27.5955 10.6707 27.5662 10.72C27.5368 10.7693 27.4995 10.8067 27.4542 10.832C27.4088 10.8573 27.3628 10.87 27.3162 10.87C27.2602 10.87 27.2082 10.8573 27.1602 10.832C27.1122 10.8067 27.0735 10.7693 27.0442 10.72C27.0162 10.6707 27.0022 10.6107 27.0022 10.54ZM29.2008 10.54C29.2008 10.632 29.2214 10.7147 29.2628 10.788C29.3054 10.86 29.3628 10.9167 29.4348 10.958C29.5068 10.9993 29.5874 11.02 29.6768 11.02C29.7674 11.02 29.8481 10.9993 29.9188 10.958C29.9908 10.9167 30.0474 10.86 30.0888 10.788C30.1314 10.7147 30.1528 10.632 30.1528 10.54C30.1528 10.4467 30.1314 10.364 30.0888 10.292C30.0474 10.22 29.9908 10.1633 29.9188 10.122C29.8481 10.0807 29.7674 10.06 29.6768 10.06C29.5874 10.06 29.5068 10.0807 29.4348 10.122C29.3628 10.1633 29.3054 10.22 29.2628 10.292C29.2214 10.364 29.2008 10.4467 29.2008 10.54ZM29.3628 10.54C29.3628 10.476 29.3761 10.4193 29.4028 10.37C29.4308 10.3193 29.4681 10.28 29.5148 10.252C29.5628 10.224 29.6168 10.21 29.6768 10.21C29.7368 10.21 29.7901 10.224 29.8368 10.252C29.8848 10.28 29.9221 10.3193 29.9488 10.37C29.9768 10.4193 29.9908 10.476 29.9908 10.54C29.9908 10.604 29.9768 10.6607 29.9488 10.71C29.9221 10.7593 29.8848 10.7987 29.8368 10.828C29.7901 10.856 29.7368 10.87 29.6768 10.87C29.6168 10.87 29.5628 10.856 29.5148 10.828C29.4681 10.7987 29.4308 10.7593 29.4028 10.71C29.3761 10.6607 29.3628 10.604 29.3628 10.54Z" fill="white"/>
				</svg>							
				`,
			},
			{
				name: 'Logo with Phone',
				title: 'Logo with Phone [1 Column | Phone under logo]',
				type: 'header_showPhone',
				prop: { showPhone: true, logo: 'center' },
				icon: `<svg width="52" height="20" viewBox="0 0 52 20" fill="none" xmlns="http://www.w3.org/2000/svg">
				<rect width="52" height="20" rx="5" fill="white"/>
				<rect x="19" y="14" width="15" height="2" rx="1" fill="#33375D"/>
				<rect x="19" y="7" width="15" height="6" rx="1" fill="#33375D"/>
				<path d="M22.9274 9.44V11H23.0874V9.44H22.9274ZM24.5284 10.54C24.5284 10.632 24.549 10.7147 24.5904 10.788C24.633 10.86 24.6904 10.9167 24.7624 10.958C24.8344 10.9993 24.915 11.02 25.0044 11.02C25.095 11.02 25.1757 10.9993 25.2464 10.958C25.3184 10.9167 25.375 10.86 25.4164 10.788C25.459 10.7147 25.4804 10.632 25.4804 10.54C25.4804 10.4467 25.459 10.364 25.4164 10.292C25.375 10.22 25.3184 10.1633 25.2464 10.122C25.1757 10.0807 25.095 10.06 25.0044 10.06C24.915 10.06 24.8344 10.0807 24.7624 10.122C24.6904 10.1633 24.633 10.22 24.5904 10.292C24.549 10.364 24.5284 10.4467 24.5284 10.54ZM24.6904 10.54C24.6904 10.476 24.7037 10.4193 24.7304 10.37C24.7584 10.3193 24.7957 10.28 24.8424 10.252C24.8904 10.224 24.9444 10.21 25.0044 10.21C25.0644 10.21 25.1177 10.224 25.1644 10.252C25.2124 10.28 25.2497 10.3193 25.2764 10.37C25.3044 10.4193 25.3184 10.476 25.3184 10.54C25.3184 10.604 25.3044 10.6607 25.2764 10.71C25.2497 10.7593 25.2124 10.7987 25.1644 10.828C25.1177 10.856 25.0644 10.87 25.0044 10.87C24.9444 10.87 24.8904 10.856 24.8424 10.828C24.7957 10.7987 24.7584 10.7593 24.7304 10.71C24.7037 10.6607 24.6904 10.604 24.6904 10.54ZM26.8582 11.06C26.8582 11.1387 26.8775 11.208 26.9162 11.268C26.9548 11.3293 27.0082 11.3767 27.0762 11.41C27.1455 11.4433 27.2248 11.46 27.3142 11.46C27.3915 11.46 27.4648 11.442 27.5342 11.406C27.6035 11.37 27.6602 11.316 27.7042 11.244C27.7482 11.1733 27.7702 11.0853 27.7702 10.98V10.08H27.6102V10.98C27.6102 11.0573 27.5948 11.12 27.5642 11.168C27.5348 11.2173 27.4975 11.2533 27.4522 11.276C27.4068 11.2987 27.3608 11.31 27.3142 11.31C27.2542 11.31 27.2022 11.298 27.1582 11.274C27.1142 11.2513 27.0802 11.2207 27.0562 11.182C27.0322 11.1447 27.0202 11.104 27.0202 11.06H26.8582ZM26.8402 10.54C26.8402 10.6387 26.8608 10.724 26.9022 10.796C26.9435 10.868 26.9988 10.9233 27.0682 10.962C27.1375 11.0007 27.2135 11.02 27.2962 11.02C27.3735 11.02 27.4408 11.0007 27.4982 10.962C27.5555 10.9233 27.6002 10.868 27.6322 10.796C27.6655 10.724 27.6822 10.6387 27.6822 10.54C27.6822 10.44 27.6655 10.3547 27.6322 10.284C27.6002 10.212 27.5555 10.1567 27.4982 10.118C27.4408 10.0793 27.3735 10.06 27.2962 10.06C27.2135 10.06 27.1375 10.0793 27.0682 10.118C26.9988 10.1567 26.9435 10.212 26.9022 10.284C26.8608 10.3547 26.8402 10.44 26.8402 10.54ZM27.0022 10.54C27.0022 10.4693 27.0162 10.4093 27.0442 10.36C27.0735 10.3107 27.1122 10.2733 27.1602 10.248C27.2082 10.2227 27.2602 10.21 27.3162 10.21C27.3508 10.21 27.3855 10.2173 27.4202 10.232C27.4548 10.2467 27.4862 10.268 27.5142 10.296C27.5435 10.324 27.5668 10.3587 27.5842 10.4C27.6015 10.44 27.6102 10.4867 27.6102 10.54C27.6102 10.6107 27.5955 10.6707 27.5662 10.72C27.5368 10.7693 27.4995 10.8067 27.4542 10.832C27.4088 10.8573 27.3628 10.87 27.3162 10.87C27.2602 10.87 27.2082 10.8573 27.1602 10.832C27.1122 10.8067 27.0735 10.7693 27.0442 10.72C27.0162 10.6707 27.0022 10.6107 27.0022 10.54ZM29.2008 10.54C29.2008 10.632 29.2214 10.7147 29.2628 10.788C29.3054 10.86 29.3628 10.9167 29.4348 10.958C29.5068 10.9993 29.5874 11.02 29.6768 11.02C29.7674 11.02 29.8481 10.9993 29.9188 10.958C29.9908 10.9167 30.0474 10.86 30.0888 10.788C30.1314 10.7147 30.1528 10.632 30.1528 10.54C30.1528 10.4467 30.1314 10.364 30.0888 10.292C30.0474 10.22 29.9908 10.1633 29.9188 10.122C29.8481 10.0807 29.7674 10.06 29.6768 10.06C29.5874 10.06 29.5068 10.0807 29.4348 10.122C29.3628 10.1633 29.3054 10.22 29.2628 10.292C29.2214 10.364 29.2008 10.4467 29.2008 10.54ZM29.3628 10.54C29.3628 10.476 29.3761 10.4193 29.4028 10.37C29.4308 10.3193 29.4681 10.28 29.5148 10.252C29.5628 10.224 29.6168 10.21 29.6768 10.21C29.7368 10.21 29.7901 10.224 29.8368 10.252C29.8848 10.28 29.9221 10.3193 29.9488 10.37C29.9768 10.4193 29.9908 10.476 29.9908 10.54C29.9908 10.604 29.9768 10.6607 29.9488 10.71C29.9221 10.7593 29.8848 10.7987 29.8368 10.828C29.7901 10.856 29.7368 10.87 29.6768 10.87C29.6168 10.87 29.5628 10.856 29.5148 10.828C29.4681 10.7987 29.4308 10.7593 29.4028 10.71C29.3761 10.6607 29.3628 10.604 29.3628 10.54Z" fill="white"/>
				</svg>
										
				`,
			},
			{
				name: 'Logo without Phone',
				title: 'Logo without Phone [Logo in left side]',
				type: 'header_showPhone',
				prop: { showPhone: false, logo: 'left' },
				icon: `<svg width="52" height="20" viewBox="0 0 52 20" fill="none" xmlns="http://www.w3.org/2000/svg">
				<rect width="52" height="20" rx="5" fill="white"/>
				<rect x="8" y="7" width="15" height="6" rx="1" fill="#33375D"/>
				<path d="M11.9274 9.44V11H12.0874V9.44H11.9274ZM13.5284 10.54C13.5284 10.632 13.549 10.7147 13.5904 10.788C13.633 10.86 13.6904 10.9167 13.7624 10.958C13.8344 10.9993 13.915 11.02 14.0044 11.02C14.095 11.02 14.1757 10.9993 14.2464 10.958C14.3184 10.9167 14.375 10.86 14.4164 10.788C14.459 10.7147 14.4804 10.632 14.4804 10.54C14.4804 10.4467 14.459 10.364 14.4164 10.292C14.375 10.22 14.3184 10.1633 14.2464 10.122C14.1757 10.0807 14.095 10.06 14.0044 10.06C13.915 10.06 13.8344 10.0807 13.7624 10.122C13.6904 10.1633 13.633 10.22 13.5904 10.292C13.549 10.364 13.5284 10.4467 13.5284 10.54ZM13.6904 10.54C13.6904 10.476 13.7037 10.4193 13.7304 10.37C13.7584 10.3193 13.7957 10.28 13.8424 10.252C13.8904 10.224 13.9444 10.21 14.0044 10.21C14.0644 10.21 14.1177 10.224 14.1644 10.252C14.2124 10.28 14.2497 10.3193 14.2764 10.37C14.3044 10.4193 14.3184 10.476 14.3184 10.54C14.3184 10.604 14.3044 10.6607 14.2764 10.71C14.2497 10.7593 14.2124 10.7987 14.1644 10.828C14.1177 10.856 14.0644 10.87 14.0044 10.87C13.9444 10.87 13.8904 10.856 13.8424 10.828C13.7957 10.7987 13.7584 10.7593 13.7304 10.71C13.7037 10.6607 13.6904 10.604 13.6904 10.54ZM15.8582 11.06C15.8582 11.1387 15.8775 11.208 15.9162 11.268C15.9548 11.3293 16.0082 11.3767 16.0762 11.41C16.1455 11.4433 16.2248 11.46 16.3142 11.46C16.3915 11.46 16.4648 11.442 16.5342 11.406C16.6035 11.37 16.6602 11.316 16.7042 11.244C16.7482 11.1733 16.7702 11.0853 16.7702 10.98V10.08H16.6102V10.98C16.6102 11.0573 16.5948 11.12 16.5642 11.168C16.5348 11.2173 16.4975 11.2533 16.4522 11.276C16.4068 11.2987 16.3608 11.31 16.3142 11.31C16.2542 11.31 16.2022 11.298 16.1582 11.274C16.1142 11.2513 16.0802 11.2207 16.0562 11.182C16.0322 11.1447 16.0202 11.104 16.0202 11.06H15.8582ZM15.8402 10.54C15.8402 10.6387 15.8608 10.724 15.9022 10.796C15.9435 10.868 15.9988 10.9233 16.0682 10.962C16.1375 11.0007 16.2135 11.02 16.2962 11.02C16.3735 11.02 16.4408 11.0007 16.4982 10.962C16.5555 10.9233 16.6002 10.868 16.6322 10.796C16.6655 10.724 16.6822 10.6387 16.6822 10.54C16.6822 10.44 16.6655 10.3547 16.6322 10.284C16.6002 10.212 16.5555 10.1567 16.4982 10.118C16.4408 10.0793 16.3735 10.06 16.2962 10.06C16.2135 10.06 16.1375 10.0793 16.0682 10.118C15.9988 10.1567 15.9435 10.212 15.9022 10.284C15.8608 10.3547 15.8402 10.44 15.8402 10.54ZM16.0022 10.54C16.0022 10.4693 16.0162 10.4093 16.0442 10.36C16.0735 10.3107 16.1122 10.2733 16.1602 10.248C16.2082 10.2227 16.2602 10.21 16.3162 10.21C16.3508 10.21 16.3855 10.2173 16.4202 10.232C16.4548 10.2467 16.4862 10.268 16.5142 10.296C16.5435 10.324 16.5668 10.3587 16.5842 10.4C16.6015 10.44 16.6102 10.4867 16.6102 10.54C16.6102 10.6107 16.5955 10.6707 16.5662 10.72C16.5368 10.7693 16.4995 10.8067 16.4542 10.832C16.4088 10.8573 16.3628 10.87 16.3162 10.87C16.2602 10.87 16.2082 10.8573 16.1602 10.832C16.1122 10.8067 16.0735 10.7693 16.0442 10.72C16.0162 10.6707 16.0022 10.6107 16.0022 10.54ZM18.2008 10.54C18.2008 10.632 18.2214 10.7147 18.2628 10.788C18.3054 10.86 18.3628 10.9167 18.4348 10.958C18.5068 10.9993 18.5874 11.02 18.6768 11.02C18.7674 11.02 18.8481 10.9993 18.9188 10.958C18.9908 10.9167 19.0474 10.86 19.0888 10.788C19.1314 10.7147 19.1528 10.632 19.1528 10.54C19.1528 10.4467 19.1314 10.364 19.0888 10.292C19.0474 10.22 18.9908 10.1633 18.9188 10.122C18.8481 10.0807 18.7674 10.06 18.6768 10.06C18.5874 10.06 18.5068 10.0807 18.4348 10.122C18.3628 10.1633 18.3054 10.22 18.2628 10.292C18.2214 10.364 18.2008 10.4467 18.2008 10.54ZM18.3628 10.54C18.3628 10.476 18.3761 10.4193 18.4028 10.37C18.4308 10.3193 18.4681 10.28 18.5148 10.252C18.5628 10.224 18.6168 10.21 18.6768 10.21C18.7368 10.21 18.7901 10.224 18.8368 10.252C18.8848 10.28 18.9221 10.3193 18.9488 10.37C18.9768 10.4193 18.9908 10.476 18.9908 10.54C18.9908 10.604 18.9768 10.6607 18.9488 10.71C18.9221 10.7593 18.8848 10.7987 18.8368 10.828C18.7901 10.856 18.7368 10.87 18.6768 10.87C18.6168 10.87 18.5628 10.856 18.5148 10.828C18.4681 10.7987 18.4308 10.7593 18.4028 10.71C18.3761 10.6607 18.3628 10.604 18.3628 10.54Z" fill="white"/>
				</svg>								
				`,
			},
		];
		const wrapper = document.createElement('div');
		const wrapperAdditional = document.createElement('div');

		const wrapper_header = document.createElement('div');
		wrapper_header.classList.add('cdx-settings-button-header-wrapper');

		settings.forEach((tune) => {
			let button = document.createElement('div');

			button.classList.add('cdx-settings-button');
			button.setAttribute('title', tune.title);
			button.innerHTML = tune.icon;
			if (tune.type == 'header_showPhone') {
				button.classList.add('cdx-settings-button-header');
				wrapper_header.appendChild(button);
			} else {
				// button.classList.add('cdx-settings-button--active-headerContainerSettings');
				wrapperAdditional.appendChild(button);
			}

			button.addEventListener('click', () => {
				this._toggleTune(tune.type, tune.prop);

				if (tune.type == 'header_showPhone') {
					for (var item of document.querySelectorAll('.cdx-settings-button--active-headerContainer')) {
						item.classList.remove('cdx-settings-button--active-headerContainer');
					}
					button.classList.toggle('cdx-settings-button--active-headerContainer');
				}
				if (tune.type == 'showConfig') {
					for (var item of document.querySelectorAll('.cdx-settings-button--active-headerContainerSettings')) {
						item.classList.remove('cdx-settings-button--active-headerContainerSettings');
					}
					button.classList.toggle('cdx-settings-button--active-headerContainerSettings');
				}
			});
		});

		wrapper.appendChild(wrapperAdditional);
		wrapper.appendChild(wrapper_header);

		return wrapper;
	}

	_toggleTune(tune, props) {
		if (tune == 'header_showPhone') {
			if (props.logo !== undefined && props.logo == 'center') {
				document.querySelector('.cdx-header').style.justifyContent = 'center';
				document.querySelector('.cdx-header').style.flexDirection = 'column';
				document.querySelector('[name="headerWrapper"]').value += 'items-center justify-center flex-col flex p-4';
			} else {
				document.querySelector('.cdx-header').style.justifyContent = 'space-between';
				document.querySelector('.cdx-header').style.flexDirection = 'row';
				document.querySelector('[name="headerWrapper"]').value += 'items-center justify-between flex-row flex p-4';
			}
			if (props.showPhone !== undefined) {
				document.querySelector('.cdx-headerParams__showPhone input').checked = props.showPhone;
				document.querySelector('.cdx-headerParams__showPhone input').dispatchEvent(new Event('change'));
			}
		}

		if (tune == 'showConfig') {
			document.querySelector('.cdx-headerParams').classList.toggle('active');
		}
	}
}
