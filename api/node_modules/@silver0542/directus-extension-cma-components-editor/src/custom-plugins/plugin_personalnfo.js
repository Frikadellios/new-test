import Uploader from './editorjs-uploader.js';

const LOADER_DELAY = 500;
export default class PersonalInfo {
	// constructor({ data, config, api, block }) {
	constructor(params) {
		this.api = params.api;

		this.nodes = {
			wrapper: null,
			wrapper_check1: null,
			wrapper_check2: null,

			wrapper_input1: null,
			wrapper_input2: null,
			wrapper_input3: null,
			wrapper_input4: null,
			wrapper_input5: null,
			wrapper_input6: null,

			// params for response
			check_row1_title: null,
			check_row1_text: null,
			check_row1_className: null,
			check_row1_info: null,

			title_visible: null,
			title_label: null,

			title_className: null, //  input className prop
			title_inputClassName: null, // input inputClassName prop
			title_labelClassName: null, // labelClassName prop
			title_inputWrapperClassName: null, // inputWrapperClassName
			title_isRequired: null, // isRequired
			title_items: null, // items

			firstName_visible: null,
			firstName_label: null,
			firstName_className: null,
			firstName_inputClassName: null,
			firstName_labelClassName: null,
			firstName_inputWrapperClassName: null,
			firstName_isRequired: null,

			lastName_visible: null,
			lastName_label: null,
			lastName_className: null,
			lastName_inputClassName: null,
			lastName_labelClassName: null,
			lastName_inputWrapperClassName: null,
			lastName_isRequired: null,

			phone_visible: null,
			phone_validation: null,
			phone_label: null,
			phone_className: null,
			phone_inputClassName: null,
			phone_labelClassName: null,
			phone_inputWrapperClassName: null,
			phone_isRequired: null,

			email_visible: null,
			email_validation: null,
			email_label: null,
			email_className: null,
			email_inputClassName: null,
			email_labelClassName: null,
			email_inputWrapperClassName: null,
			email_isRequired: null,

			dob_visible: null,
			dob_label: null,
			dob_className: null,
			dob_inputClassName: null,
			dob_labelClassName: null,
			dob_inputWrapperClassName: null,
			dob_isRequired: null,
		};

		this.config = {
			endpoint: params.config.endpoint || '',
			field: params.config.field || 'image',
			types: params.config.types || 'image/*',
			namePlaceholder: params.config.namePlaceholder || 'Name',
			descriptionPlaceholder: params.config.descriptionPlaceholder || 'Description',
			linkPlaceholder: params.config.linkPlaceholder || 'Link',
		};

		/**
		 * Set saved state
		 */
		this.data = params.data;

		this.config.uploader = params.config.uploader;
		this.uploader = new Uploader({
			config: this.config,
			getCurrentFile: () => this.data.secureIcon,
			onUpload: (response) => this.onUpload({ body: response }),
			onError: (error) => this.uploadingFailed(error),
		});

		this.onUpload = (response) => {
			const {
				body: { success, file },
			} = response;

			if (success && file && file.url) {
				this.data.secureIcon = file.url;

				this.showFullImage();
			}
			// super.onUpload(response);
			params.block.save().then((state) => {
				params.api.blocks.update(state.id, state.data);
			});
		};
	}

	onUpload(response) {
		const {
			body: { success, file },
		} = response;

		if (success && file && file.url) {
			this.data.secureIcon = file.url;

			this.showFullImage();
		}
	}

	static get toolbox() {
		return {
			title: 'Personal Information',
			icon: `<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg>`,
		};
	}

	render() {
		const settingsIcon = this.make('img', 'settingsIcon', {
			src: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjIwIiBoZWlnaHQ9IjIwIiByeD0iNSIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTEwIDYuMjVWNU0xMCA2LjI1QzkuNjY4NDggNi4yNSA5LjM1MDU0IDYuMzgxNyA5LjExNjEyIDYuNjE2MTJDOC44ODE3IDYuODUwNTQgOC43NSA3LjE2ODQ4IDguNzUgNy41QzguNzUgNy44MzE1MiA4Ljg4MTcgOC4xNDk0NiA5LjExNjEyIDguMzgzODhDOS4zNTA1NCA4LjYxODMgOS42Njg0OCA4Ljc1IDEwIDguNzVNMTAgNi4yNUMxMC4zMzE1IDYuMjUgMTAuNjQ5NSA2LjM4MTcgMTAuODgzOSA2LjYxNjEyQzExLjExODMgNi44NTA1NCAxMS4yNSA3LjE2ODQ4IDExLjI1IDcuNUMxMS4yNSA3LjgzMTUyIDExLjExODMgOC4xNDk0NiAxMC44ODM5IDguMzgzODhDMTAuNjQ5NSA4LjYxODMgMTAuMzMxNSA4Ljc1IDEwIDguNzVNNi4yNSAxMy43NUM2LjU4MTUyIDEzLjc1IDYuODk5NDYgMTMuNjE4MyA3LjEzMzg4IDEzLjM4MzlDNy4zNjgzIDEzLjE0OTUgNy41IDEyLjgzMTUgNy41IDEyLjVDNy41IDEyLjE2ODUgNy4zNjgzIDExLjg1MDUgNy4xMzM4OCAxMS42MTYxQzYuODk5NDYgMTEuMzgxNyA2LjU4MTUyIDExLjI1IDYuMjUgMTEuMjVNNi4yNSAxMy43NUM1LjkxODQ4IDEzLjc1IDUuNjAwNTQgMTMuNjE4MyA1LjM2NjEyIDEzLjM4MzlDNS4xMzE3IDEzLjE0OTUgNSAxMi44MzE1IDUgMTIuNUM1IDEyLjE2ODUgNS4xMzE3IDExLjg1MDUgNS4zNjYxMiAxMS42MTYxQzUuNjAwNTQgMTEuMzgxNyA1LjkxODQ4IDExLjI1IDYuMjUgMTEuMjVNNi4yNSAxMy43NVYxNU02LjI1IDExLjI1VjVNMTAgOC43NVYxNU0xMy43NSAxMy43NUMxNC4wODE1IDEzLjc1IDE0LjM5OTUgMTMuNjE4MyAxNC42MzM5IDEzLjM4MzlDMTQuODY4MyAxMy4xNDk1IDE1IDEyLjgzMTUgMTUgMTIuNUMxNSAxMi4xNjg1IDE0Ljg2ODMgMTEuODUwNSAxNC42MzM5IDExLjYxNjFDMTQuMzk5NSAxMS4zODE3IDE0LjA4MTUgMTEuMjUgMTMuNzUgMTEuMjVNMTMuNzUgMTMuNzVDMTMuNDE4NSAxMy43NSAxMy4xMDA1IDEzLjYxODMgMTIuODY2MSAxMy4zODM5QzEyLjYzMTcgMTMuMTQ5NSAxMi41IDEyLjgzMTUgMTIuNSAxMi41QzEyLjUgMTIuMTY4NSAxMi42MzE3IDExLjg1MDUgMTIuODY2MSAxMS42MTYxQzEzLjEwMDUgMTEuMzgxNyAxMy40MTg1IDExLjI1IDEzLjc1IDExLjI1TTEzLjc1IDEzLjc1VjE1TTEzLjc1IDExLjI1VjUiIHN0cm9rZT0iYmxhY2siIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8L3N2Zz4K',
		});

		const settingWrapper = this.make('div', 'settingsWrapper');

		this.nodes.wrapper = this.make('div', this.CSS.wrapper);

		// Persona Info start
		this.nodes.wrapper_check1 = this.make('div', this.CSS.wrapper_check1);
		const wrpCheck = this.make('div', '');
		this.nodes.check_row1_title = this.make(
			'div',
			this.CSS.check_row2_title,
			{
				contentEditable: true,
			},
			this.data && this.data.check_row1_title ? this.data.check_row1_title : 'Personal Information'
		);

		this.nodes.check_row1_text = this.make(
			'div',
			this.CSS.check_row1_text,
			{
				contentEditable: true,
			},
			this.data && this.data.check_row1_text ? this.data.check_row1_text : ''
		);

		var sI = settingsIcon.cloneNode(true);
		sI.addEventListener('click', () => {
			this._toggleTune('check1');
		});
		var settingW = settingWrapper.cloneNode(true);
		var settingWW = this.make('div', 'check1');
		var lbl = this.make(
			'label',
			'',
			{
				for: 'check_row1_className',
			},
			'Class'
		);
		var inpt = this.make('input', '', {
			type: 'text',
			name: 'check_row1_className',
			value:
				this.data && this.data.check_row1_className ? this.data.check_row1_className : 'text-sm font-medium pr-5 py-3',
		});

		settingWW.appendChild(lbl);
		settingWW.appendChild(inpt);
		settingW.appendChild(settingWW);

		settingWW = this.make('div', 'check1');
		lbl = this.make(
			'label',
			'',
			{
				for: 'check_row1_iconClass',
			},
			'Icon Class'
		);
		inpt = this.make('input', '', {
			type: 'text',
			name: 'check_row1_iconClass',
			value:
				this.data && this.data.check_row1_iconClass ? this.data.check_row1_iconClass : 'text-primary-77 rounded-3xl',
		});

		settingWW.appendChild(lbl);
		settingWW.appendChild(inpt);
		settingW.appendChild(settingWW);

		settingWW = this.make('div', 'check1');
		lbl = this.make(
			'label',
			'',
			{
				for: 'check_row1_info',
			},
			'Show Info button'
		);
		inpt = this.make('input', '', {
			type: 'checkbox',
			name: 'check_row1_info',
			value: 'showInfo',
			checked: this.data && this.data.check_row1_info ? this.data.check_row1_info : true,
		});
		var btn = this.make('button', '', {}, 'Save');
		btn.addEventListener('click', () => {
			this._toggleTune('check1', 'save');
		});

		lbl.prepend(inpt);
		settingWW.appendChild(lbl);
		settingWW.appendChild(btn);
		settingW.appendChild(settingWW);
		// end of Personal Infor Title
		this.nodes.wrapper_check1.appendChild(settingW);
		this.nodes.wrapper_check1.appendChild(sI);
		wrpCheck.appendChild(this.nodes.check_row1_title);
		wrpCheck.appendChild(this.nodes.check_row1_text);
		this.nodes.wrapper_check1.appendChild(wrpCheck);
		this.nodes.wrapper.appendChild(this.nodes.wrapper_check1); // add Personal info title

		// Title Input with setting
		this.nodes.wrapper_input1 = this.make('div', this.CSS.wrapper_input1);

		this.nodes.title_label = this.make(
			'div',
			this.CSS.title_label,
			{
				contentEditable: true,
			},
			this.data && this.data.title_label ? this.data.title_label : 'Title'
		);

		sI = settingsIcon.cloneNode(true);
		sI.addEventListener('click', () => {
			this._toggleTune('input1');
		});
		settingW = settingWrapper.cloneNode(true);
		settingWW = this.make('div', 'input1');
		lbl = this.make(
			'label',
			'',
			{
				for: 'title_visible',
			},
			'Show Input'
		);
		inpt = this.make('input', '', {
			type: 'checkbox',
			name: 'title_visible',
			value: 'showInfo',
			checked: this.data.title_visible,
		});

		lbl.prepend(inpt);
		settingWW.appendChild(lbl);
		settingW.appendChild(settingWW);

		// settingW = settingWrapper.cloneNode(true);
		settingWW = this.make('div', 'input1');
		lbl = this.make(
			'label',
			'',
			{
				for: 'title_className',
			},
			'Input Component Class'
		);
		inpt = this.make('input', '', {
			type: 'text',
			name: 'title_className',
			value: this.data && this.data.title_className ? this.data.title_className : 'justify-end pr-5 mt-5',
		});
		settingWW.appendChild(lbl);
		settingWW.appendChild(inpt);
		settingW.appendChild(settingWW);

		settingWW = this.make('div', 'input1');
		lbl = this.make(
			'label',
			'',
			{
				for: 'title_inputClassName',
			},
			'Input Class'
		);
		inpt = this.make('input', '', {
			type: 'text',
			name: 'title_inputClassName',
			value: this.data && this.data.title_inputClassName ? this.data.title_inputClassName : 'w-full',
		});
		settingWW.appendChild(lbl);
		settingWW.appendChild(inpt);
		settingW.appendChild(settingWW);

		settingWW = this.make('div', 'input1');
		lbl = this.make(
			'label',
			'',
			{
				for: 'title_labelClassName',
			},
			'Label Class'
		);
		inpt = this.make('input', '', {
			type: 'text',
			name: 'title_labelClassName',
			value:
				this.data && this.data.title_labelClassName ? this.data.title_labelClassName : 'text-right pr-1 justify-end',
		});
		settingWW.appendChild(lbl);
		settingWW.appendChild(inpt);
		settingW.appendChild(settingWW);

		settingWW = this.make('div', 'input1');
		lbl = this.make(
			'label',
			'',
			{
				for: 'title_inputWrapperClassName',
			},
			'Wrapper Class'
		);
		inpt = this.make('input', '', {
			type: 'text',
			name: 'title_inputWrapperClassName',
			value:
				this.data && this.data.title_inputWrapperClassName
					? this.data.title_inputWrapperClassName
					: 'justify-end xl:w-2/3 lg:w-2/4 w-2/4',
		});
		settingWW.appendChild(lbl);
		settingWW.appendChild(inpt);
		settingW.appendChild(settingWW);

		settingWW = this.make('div', 'input1');
		lbl = this.make(
			'label',
			'',
			{
				for: 'title_isRequired',
			},
			'Is Required ?'
		);
		inpt = this.make('input', '', {
			type: 'checkbox',
			name: 'title_isRequired',
			value: 'showInfo',
			checked: this.data && this.data.title_isRequired ? this.data.title_isRequired : true,
		});

		lbl.prepend(inpt);
		settingWW.appendChild(lbl);
		settingW.appendChild(settingWW);

		settingWW = this.make('div', 'input1');
		lbl = this.make(
			'label',
			'',
			{
				for: 'title_items',
			},
			'Items (separated by commas)'
		);
		inpt = this.make('input', '', {
			type: 'text',
			name: 'title_items',
			value: this.data && this.data.title_items ? this.data.title_items : 'Mr, Ms, Mrs',
		});
		btn = this.make('button', '', {}, 'Save');
		btn.addEventListener('click', () => {
			this._toggleTune('input1', 'save');
		});
		settingWW.appendChild(lbl);
		settingWW.appendChild(inpt);
		settingWW.appendChild(btn);
		settingW.appendChild(settingWW);

		this.nodes.wrapper_input1.appendChild(settingW);
		this.nodes.wrapper_input1.appendChild(sI);
		this.nodes.wrapper_input1.appendChild(this.nodes.title_label);
		this.nodes.wrapper.appendChild(this.nodes.wrapper_input1); // add Title input with setttings
		let t = this.nodes.wrapper_input1.querySelector('[name=title_visible]');
		t.addEventListener('change', (e) => {
			this.nodes.wrapper_input1.querySelector('[name="title_isRequired"]').checked = e.target.checked;
			this.nodes.wrapper_input1.classList.toggle('hidden');
		});

		t = this.nodes.wrapper_input1.querySelector('[name=title_isRequired');
		t.addEventListener('change', (e) => {
			this.nodes.wrapper_input1.classList.toggle('required', e.target.checked);
		});

		// Title end

		// First Name start
		this.nodes.wrapper_input2 = this.make('div', 'cdx-moveDuration-wrapper-checkInput');

		this.nodes.firstName_label = this.make(
			'div',
			'cdx-moveDuration-wrapper-Label',
			{
				contentEditable: true,
			},
			this.data && this.data.firstName_label ? this.data.firstName_label : 'First Name'
		);

		sI = settingsIcon.cloneNode(true);
		sI.addEventListener('click', () => {
			this._toggleTune('input2');
		});
		settingW = settingWrapper.cloneNode(true);
		settingWW = this.make('div', 'input2');
		lbl = this.make(
			'label',
			'',
			{
				for: 'firstName_visible',
			},
			'Show Input'
		);
		inpt = this.make('input', '', {
			type: 'checkbox',
			name: 'firstName_visible',
			value: 'showInfo',
			checked: this.data.firstName_visible,
		});

		lbl.prepend(inpt);
		settingWW.appendChild(lbl);
		settingW.appendChild(settingWW);

		settingWW = this.make('div', 'input2');
		lbl = this.make(
			'label',
			'',
			{
				for: 'firstName_className',
			},
			'Input Component Class'
		);
		inpt = this.make('input', '', {
			type: 'text',
			name: 'firstName_className',
			value: this.data && this.data.firstName_className ? this.data.firstName_className : 'justify-end pr-5',
		});
		settingWW.appendChild(lbl);
		settingWW.appendChild(inpt);
		settingW.appendChild(settingWW);

		settingWW = this.make('div', 'input2');
		lbl = this.make(
			'label',
			'',
			{
				for: 'firstName_inputClassName',
			},
			'Input Class'
		);
		inpt = this.make('input', '', {
			type: 'text',
			name: 'firstName_inputClassName',
			value: this.data && this.data.firstName_inputClassName ? this.data.firstName_inputClassName : 'w-full',
		});
		settingWW.appendChild(lbl);
		settingWW.appendChild(inpt);
		settingW.appendChild(settingWW);

		settingWW = this.make('div', 'input2');
		lbl = this.make(
			'label',
			'',
			{
				for: 'firstName_labelClassName',
			},
			'Label Class'
		);
		inpt = this.make('input', '', {
			type: 'text',
			name: 'firstName_labelClassName',
			value:
				this.data && this.data.firstName_labelClassName
					? this.data.firstName_labelClassName
					: 'text-right pr-1 justify-end',
		});
		settingWW.appendChild(lbl);
		settingWW.appendChild(inpt);
		settingW.appendChild(settingWW);

		settingWW = this.make('div', 'input2');
		lbl = this.make(
			'label',
			'',
			{
				for: 'firstName_inputWrapperClassName',
			},
			'Wrapper Class'
		);
		inpt = this.make('input', '', {
			type: 'text',
			name: 'firstName_inputWrapperClassName',
			value:
				this.data && this.data.firstName_inputWrapperClassName
					? this.data.firstName_inputWrapperClassName
					: 'justify-end xl:w-2/3 lg:w-2/4 w-2/4',
		});
		settingWW.appendChild(lbl);
		settingWW.appendChild(inpt);
		settingW.appendChild(settingWW);

		settingWW = this.make('div', 'input2');
		lbl = this.make(
			'label',
			'',
			{
				for: 'firstName_isRequired',
			},
			'Is Required ?'
		);
		inpt = this.make('input', '', {
			type: 'checkbox',
			name: 'firstName_isRequired',
			value: 'showInfo',
			checked: this.data && this.data.firstName_isRequired ? this.data.firstName_isRequired : true,
		});

		btn = this.make('button', '', {}, 'Save');
		btn.addEventListener('click', () => {
			this._toggleTune('input2', 'save');
		});

		lbl.prepend(inpt);
		settingWW.appendChild(lbl);
		settingWW.appendChild(btn);
		settingW.appendChild(settingWW);

		this.nodes.wrapper_input2.appendChild(settingW);
		this.nodes.wrapper_input2.appendChild(sI);
		this.nodes.wrapper_input2.appendChild(this.nodes.firstName_label);
		this.nodes.wrapper.appendChild(this.nodes.wrapper_input2); // add First Name input with setttings
		t = this.nodes.wrapper_input2.querySelector('[name=firstName_visible]');
		t.addEventListener('change', (e) => {
			this.nodes.wrapper_input2.querySelector('[name="firstName_isRequired"]').checked = e.target.checked;
			this.nodes.wrapper_input2.classList.toggle('hidden');
		});

		t = this.nodes.wrapper_input2.querySelector('[name=firstName_isRequired');
		t.addEventListener('change', (e) => {
			this.nodes.wrapper_input2.classList.toggle('required', e.target.checked);
		});

		// First Name end

		// Last Name Start
		this.nodes.wrapper_input3 = this.make('div', 'cdx-moveDuration-wrapper-checkInput');

		this.nodes.lastName_label = this.make(
			'div',
			'cdx-moveDuration-wrapper-Label',
			{
				contentEditable: true,
			},
			this.data && this.data.lastName_label ? this.data.lastName_label : 'Last Name'
		);

		sI = settingsIcon.cloneNode(true);
		sI.addEventListener('click', () => {
			this._toggleTune('input3');
		});
		settingW = settingWrapper.cloneNode(true);
		settingWW = this.make('div', 'input3');
		lbl = this.make(
			'label',
			'',
			{
				for: 'lastName_visible',
			},
			'Show Input'
		);
		inpt = this.make('input', '', {
			type: 'checkbox',
			name: 'lastName_visible',
			value: 'showInfo',
			checked: this.data.lastName_visible,
		});
		var btn = this.make('button', '', {}, 'Save');

		lbl.prepend(inpt);
		settingWW.appendChild(lbl);
		settingW.appendChild(settingWW);

		settingWW = this.make('div', 'input3');
		lbl = this.make(
			'label',
			'',
			{
				for: 'lastName_className',
			},
			'Input Component Class'
		);
		inpt = this.make('input', '', {
			type: 'text',
			name: 'lastName_className',
			value: this.data && this.data.lastName_className ? this.data.lastName_className : 'justify-end pr-5',
		});
		settingWW.appendChild(lbl);
		settingWW.appendChild(inpt);
		settingW.appendChild(settingWW);

		settingWW = this.make('div', 'input3');
		lbl = this.make(
			'label',
			'',
			{
				for: 'lastName_inputClassName',
			},
			'Input Class'
		);
		inpt = this.make('input', '', {
			type: 'text',
			name: 'lastName_inputClassName',
			value: this.data && this.data.lastName_inputClassName ? this.data.lastName_inputClassName : 'w-full',
		});
		settingWW.appendChild(lbl);
		settingWW.appendChild(inpt);
		settingW.appendChild(settingWW);

		settingWW = this.make('div', 'input3');
		lbl = this.make(
			'label',
			'',
			{
				for: 'lastName_labelClassName',
			},
			'Label Class'
		);
		inpt = this.make('input', '', {
			type: 'text',
			name: 'lastName_labelClassName',
			value:
				this.data && this.data.lastName_labelClassName
					? this.data.lastName_labelClassName
					: 'text-right pr-1 justify-end',
		});
		settingWW.appendChild(lbl);
		settingWW.appendChild(inpt);
		settingW.appendChild(settingWW);

		settingWW = this.make('div', 'input3');
		lbl = this.make(
			'label',
			'',
			{
				for: 'lastName_inputWrapperClassName',
			},
			'Wrapper Class'
		);
		inpt = this.make('input', '', {
			type: 'text',
			name: 'lastName_inputWrapperClassName',
			value:
				this.data && this.data.lastName_inputWrapperClassName
					? this.data.lastName_inputWrapperClassName
					: 'justify-end xl:w-2/3 lg:w-2/4 w-2/4',
		});
		settingWW.appendChild(lbl);
		settingWW.appendChild(inpt);
		settingW.appendChild(settingWW);

		settingWW = this.make('div', 'input3');
		lbl = this.make(
			'label',
			'',
			{
				for: 'lastName_isRequired',
			},
			'Is Required ?'
		);
		inpt = this.make('input', '', {
			type: 'checkbox',
			name: 'lastName_isRequired',
			value: 'showInfo',
			checked: this.data && this.data.lastName_isRequired ? this.data.lastName_isRequired : true,
		});
		btn = this.make('button', '', {}, 'Save');
		btn.addEventListener('click', () => {
			this._toggleTune('input3', 'save');
		});

		lbl.prepend(inpt);
		settingWW.appendChild(lbl);
		settingWW.appendChild(btn);
		settingW.appendChild(settingWW);

		this.nodes.wrapper_input3.appendChild(settingW);
		this.nodes.wrapper_input3.appendChild(sI);
		this.nodes.wrapper_input3.appendChild(this.nodes.lastName_label);
		this.nodes.wrapper.appendChild(this.nodes.wrapper_input3); // add Last Name input with setttings

		t = this.nodes.wrapper_input3.querySelector('[name=lastName_visible]');
		t.addEventListener('change', (e) => {
			this.nodes.wrapper_input3.querySelector('[name="lastName_isRequired"]').checked = e.target.checked;
			this.nodes.wrapper_input3.classList.toggle('hidden');
		});

		t = this.nodes.wrapper_input3.querySelector('[name=lastName_isRequired');
		t.addEventListener('change', (e) => {
			this.nodes.wrapper_input3.classList.toggle('required', e.target.checked);
		});
		// Last name end

		// Phone Start
		this.nodes.wrapper_input4 = this.make('div', 'cdx-moveDuration-wrapper-checkInput');

		this.nodes.phone_label = this.make(
			'div',
			'cdx-moveDuration-wrapper-Label',
			{
				contentEditable: true,
			},
			this.data && this.data.phone_label ? this.data.phone_label : 'Phone'
		);

		sI = settingsIcon.cloneNode(true);
		sI.addEventListener('click', () => {
			this._toggleTune('input4');
		});
		settingW = settingWrapper.cloneNode(true);
		settingWW = this.make('div', 'input4');
		lbl = this.make(
			'label',
			'',
			{
				for: 'phone_visible',
			},
			'Show Input'
		);
		inpt = this.make('input', '', {
			type: 'checkbox',
			name: 'phone_visible',
			value: 'showInfo',
			checked: this.data.phone_visible,
		});

		lbl.prepend(inpt);
		settingWW.appendChild(lbl);
		settingW.appendChild(settingWW);

		settingWW = this.make('div', 'input4');
		lbl = this.make(
			'label',
			'',
			{
				for: 'phone_validation',
			},
			'Phone Validation'
		);
		inpt = this.make('input', '', {
			type: 'checkbox',
			name: 'phone_validation',
			value: 'showInfo',
			checked: this.data.phone_validation !== undefined ? this.data.phone_validation : true,
		});

		lbl.prepend(inpt);
		settingWW.appendChild(lbl);
		settingW.appendChild(settingWW);

		settingWW = this.make('div', 'input4');
		lbl = this.make(
			'label',
			'',
			{
				for: 'phone_className',
			},
			'Input Component Class'
		);
		inpt = this.make('input', '', {
			type: 'text',
			name: 'phone_className',
			value: this.data && this.data.phone_className ? this.data.phone_className : 'justify-end pr-5',
		});
		settingWW.appendChild(lbl);
		settingWW.appendChild(inpt);
		settingW.appendChild(settingWW);

		settingWW = this.make('div', 'input4');
		lbl = this.make(
			'label',
			'',
			{
				for: 'phone_inputClassName',
			},
			'Input Class'
		);
		inpt = this.make('input', '', {
			type: 'text',
			name: 'phone_inputClassName',
			value: this.data && this.data.phone_inputClassName ? this.data.phone_inputClassName : 'w-full',
		});
		settingWW.appendChild(lbl);
		settingWW.appendChild(inpt);
		settingW.appendChild(settingWW);

		settingWW = this.make('div', 'input4');
		lbl = this.make(
			'label',
			'',
			{
				for: 'phone_labelClassName',
			},
			'Label Class'
		);
		inpt = this.make('input', '', {
			type: 'text',
			name: 'phone_labelClassName',
			value:
				this.data && this.data.phone_labelClassName ? this.data.phone_labelClassName : 'text-right pr-1 justify-end',
		});
		settingWW.appendChild(lbl);
		settingWW.appendChild(inpt);
		settingW.appendChild(settingWW);

		settingWW = this.make('div', 'input4');
		lbl = this.make(
			'label',
			'',
			{
				for: 'phone_inputWrapperClassName',
			},
			'Wrapper Class'
		);
		inpt = this.make('input', '', {
			type: 'text',
			name: 'phone_inputWrapperClassName',
			value:
				this.data && this.data.phone_inputWrapperClassName
					? this.data.phone_inputWrapperClassName
					: 'justify-end xl:w-2/3 lg:w-2/4 w-2/4',
		});
		settingWW.appendChild(lbl);
		settingWW.appendChild(inpt);
		settingW.appendChild(settingWW);

		settingWW = this.make('div', 'input4');
		lbl = this.make(
			'label',
			'',
			{
				for: 'phone_isRequired',
			},
			'Is Required ?'
		);
		inpt = this.make('input', '', {
			type: 'checkbox',
			name: 'phone_isRequired',
			value: 'showInfo',
			checked: this.data && this.data.phone_isRequired ? this.data.phone_isRequired : true,
		});

		btn = this.make('button', '', {}, 'Save');
		btn.addEventListener('click', () => {
			this._toggleTune('input4', 'save');
		});
		lbl.prepend(inpt);
		settingWW.appendChild(lbl);
		settingWW.appendChild(btn);
		settingW.appendChild(settingWW);

		this.nodes.wrapper_input4.appendChild(settingW);
		this.nodes.wrapper_input4.appendChild(sI);
		this.nodes.wrapper_input4.appendChild(this.nodes.phone_label);
		this.nodes.wrapper.appendChild(this.nodes.wrapper_input4); // add Phone input with setttings
		t = this.nodes.wrapper_input4.querySelector('[name=phone_visible]');
		t.addEventListener('change', (e) => {
			this.nodes.wrapper_input4.querySelector('[name="phone_isRequired"]').checked = e.target.checked;
			this.nodes.wrapper_input4.classList.toggle('hidden');
		});

		t = this.nodes.wrapper_input4.querySelector('[name=phone_isRequired');
		t.addEventListener('change', (e) => {
			this.nodes.wrapper_input4.classList.toggle('required', e.target.checked);
		});
		// Phone End

		// Email Start
		this.nodes.wrapper_input5 = this.make('div', 'cdx-moveDuration-wrapper-checkInput');

		this.nodes.email_label = this.make(
			'div',
			'cdx-moveDuration-wrapper-Label',
			{
				contentEditable: true,
			},
			this.data && this.data.email_label ? this.data.email_label : 'Email'
		);

		sI = settingsIcon.cloneNode(true);
		sI.addEventListener('click', () => {
			this._toggleTune('input5');
		});
		settingW = settingWrapper.cloneNode(true);
		settingWW = this.make('div', 'input5');
		lbl = this.make(
			'label',
			'',
			{
				for: 'email_visible',
			},
			'Show Input'
		);
		inpt = this.make('input', '', {
			type: 'checkbox',
			name: 'email_visible',
			value: 'showInfo',
			checked: this.data.email_visible,
		});

		lbl.prepend(inpt);
		settingWW.appendChild(lbl);
		settingW.appendChild(settingWW);

		settingWW = this.make('div', 'input5');
		lbl = this.make(
			'label',
			'',
			{
				for: 'email_validation',
			},
			'Email validation'
		);
		inpt = this.make('input', '', {
			type: 'checkbox',
			name: 'email_validation',
			value: 'showInfo',
			checked: this.data.email_validation !== undefined ? this.data.email_validation : true,
		});

		lbl.prepend(inpt);
		settingWW.appendChild(lbl);
		settingW.appendChild(settingWW);

		settingWW = this.make('div', 'input5');
		lbl = this.make(
			'label',
			'',
			{
				for: 'email_className',
			},
			'Input Component Class'
		);
		inpt = this.make('input', '', {
			type: 'text',
			name: 'email_className',
			value: this.data && this.data.email_className ? this.data.email_className : 'justify-end pr-5',
		});
		settingWW.appendChild(lbl);
		settingWW.appendChild(inpt);
		settingW.appendChild(settingWW);

		settingWW = this.make('div', 'input5');
		lbl = this.make(
			'label',
			'',
			{
				for: 'email_inputClassName',
			},
			'Input Class'
		);
		inpt = this.make('input', '', {
			type: 'text',
			name: 'email_inputClassName',
			value: this.data && this.data.email_inputClassName ? this.data.email_inputClassName : 'w-full',
		});
		settingWW.appendChild(lbl);
		settingWW.appendChild(inpt);
		settingW.appendChild(settingWW);

		settingWW = this.make('div', 'input5');
		lbl = this.make(
			'label',
			'',
			{
				for: 'email_labelClassName',
			},
			'Label Class'
		);
		inpt = this.make('input', '', {
			type: 'text',
			name: 'email_labelClassName',
			value:
				this.data && this.data.email_labelClassName ? this.data.email_labelClassName : 'text-right pr-1 justify-end',
		});
		settingWW.appendChild(lbl);
		settingWW.appendChild(inpt);
		settingW.appendChild(settingWW);

		settingWW = this.make('div', 'input5');
		lbl = this.make(
			'label',
			'',
			{
				for: 'email_inputWrapperClassName',
			},
			'Wrapper Class'
		);
		inpt = this.make('input', '', {
			type: 'text',
			name: 'email_inputWrapperClassName',
			value:
				this.data && this.data.email_inputWrapperClassName
					? this.data.email_inputWrapperClassName
					: 'justify-end xl:w-2/3 lg:w-2/4 w-2/4',
		});
		settingWW.appendChild(lbl);
		settingWW.appendChild(inpt);
		settingW.appendChild(settingWW);

		settingWW = this.make('div', 'input5');
		lbl = this.make(
			'label',
			'',
			{
				for: 'email_isRequired',
			},
			'Is Required ?'
		);
		inpt = this.make('input', '', {
			type: 'checkbox',
			name: 'email_isRequired',
			value: 'showInfo',
			checked: this.data && this.data.email_isRequired ? this.data.email_isRequired : true,
		});

		lbl.prepend(inpt);
		settingWW.appendChild(lbl);

		btn = this.make('button', '', {}, 'Save');
		btn.addEventListener('click', () => {
			this._toggleTune('input5', 'save');
		});
		settingWW.appendChild(lbl);
		settingWW.appendChild(btn);
		settingW.appendChild(settingWW);

		this.nodes.wrapper_input5.appendChild(settingW);
		this.nodes.wrapper_input5.appendChild(sI);
		this.nodes.wrapper_input5.appendChild(this.nodes.email_label);
		this.nodes.wrapper.appendChild(this.nodes.wrapper_input5); // add Email input with setttings

		t = this.nodes.wrapper_input5.querySelector('[name=email_visible]');
		t.addEventListener('change', (e) => {
			this.nodes.wrapper_input5.querySelector('[name="email_isRequired"]').checked = e.target.checked;
			this.nodes.wrapper_input5.classList.toggle('hidden');
		});

		t = this.nodes.wrapper_input5.querySelector('[name=email_isRequired');
		t.addEventListener('change', (e) => {
			this.nodes.wrapper_input5.classList.toggle('required', e.target.checked);
		});

		// Email Stop

		// DOB start
		this.nodes.wrapper_input6 = this.make('div', 'cdx-moveDuration-wrapper-checkInput');

		this.nodes.dob_label = this.make(
			'div',
			'cdx-moveDuration-wrapper-Label',
			{
				contentEditable: true,
			},
			this.data && this.data.dob_label ? this.data.dob_label : 'Year of Birth'
		);

		sI = settingsIcon.cloneNode(true);
		sI.addEventListener('click', () => {
			this._toggleTune('input6');
		});
		settingW = settingWrapper.cloneNode(true);
		settingWW = this.make('div', 'input6');
		lbl = this.make(
			'label',
			'',
			{
				for: 'dob_visible',
			},
			'Show Input'
		);
		inpt = this.make('input', '', {
			type: 'checkbox',
			name: 'dob_visible',
			value: 'showInfo',
			checked: this.data.dob_visible,
		});

		lbl.prepend(inpt);
		settingWW.appendChild(lbl);
		settingW.appendChild(settingWW);

		settingWW = this.make('div', 'input6');
		lbl = this.make(
			'label',
			'',
			{
				for: 'dob_className',
			},
			'Input Component Class'
		);
		inpt = this.make('input', '', {
			type: 'text',
			name: 'dob_className',
			value: this.data && this.data.dob_className ? this.data.dob_className : 'justify-end pr-5',
		});
		settingWW.appendChild(lbl);
		settingWW.appendChild(inpt);
		settingW.appendChild(settingWW);

		settingWW = this.make('div', 'input6');
		lbl = this.make(
			'label',
			'',
			{
				for: 'dob_inputClassName',
			},
			'Input Class'
		);
		inpt = this.make('input', '', {
			type: 'text',
			name: 'dob_inputClassName',
			value: this.data && this.data.dob_inputClassName ? this.data.dob_inputClassName : 'w-full',
		});
		settingWW.appendChild(lbl);
		settingWW.appendChild(inpt);
		settingW.appendChild(settingWW);

		settingWW = this.make('div', 'input6');
		lbl = this.make(
			'label',
			'',
			{
				for: 'dob_labelClassName',
			},
			'Label Class'
		);
		inpt = this.make('input', '', {
			type: 'text',
			name: 'dob_labelClassName',
			value: this.data && this.data.dob_labelClassName ? this.data.dob_labelClassName : 'text-right pr-1 justify-end',
		});
		settingWW.appendChild(lbl);
		settingWW.appendChild(inpt);
		settingW.appendChild(settingWW);

		settingWW = this.make('div', 'input6');
		lbl = this.make(
			'label',
			'',
			{
				for: 'dob_inputWrapperClassName',
			},
			'Wrapper Class'
		);
		inpt = this.make('input', '', {
			type: 'text',
			name: 'dob_inputWrapperClassName',
			value:
				this.data && this.data.dob_inputWrapperClassName
					? this.data.dob_inputWrapperClassName
					: 'justify-end xl:w-2/3 lg:w-2/4 w-2/4',
		});
		settingWW.appendChild(lbl);
		settingWW.appendChild(inpt);
		settingW.appendChild(settingWW);

		settingWW = this.make('div', 'input6');
		lbl = this.make(
			'label',
			'',
			{
				for: 'dob_isRequired',
			},
			'Is Required ?'
		);
		inpt = this.make('input', '', {
			type: 'checkbox',
			name: 'dob_isRequired',
			value: 'showInfo',
			checked: this.data && this.data.dob_isRequired ? this.data.dob_isRequired : true,
		});

		btn = this.make('button', '', {}, 'Save');
		btn.addEventListener('click', () => {
			this._toggleTune('input6', 'save');
		});
		lbl.prepend(inpt);
		settingWW.appendChild(lbl);
		settingWW.appendChild(btn);
		settingW.appendChild(settingWW);

		this.nodes.wrapper_input6.appendChild(settingW);
		this.nodes.wrapper_input6.appendChild(sI);
		this.nodes.wrapper_input6.appendChild(this.nodes.dob_label);
		this.nodes.wrapper.appendChild(this.nodes.wrapper_input6); // add DOB input with setttings

		t = this.nodes.wrapper_input6.querySelector('[name=dob_visible]');
		t.addEventListener('change', (e) => {
			this.nodes.wrapper_input6.querySelector('[name="dob_isRequired"]').checked = e.target.checked;
			this.nodes.wrapper_input6.classList.toggle('hidden');
		});

		t = this.nodes.wrapper_input6.querySelector('[name=dob_isRequired');
		t.addEventListener('change', (e) => {
			this.nodes.wrapper_input6.classList.toggle('required', e.target.checked);
		});

		if (this.data && !this.data.title_visible) {
			this.nodes.wrapper_input1.classList.toggle('hidden');
		}
		if (this.data && !this.data.firstName_visible) {
			this.nodes.wrapper_input2.classList.toggle('hidden');
		}
		if (this.data && !this.data.lastName_visible) {
			this.nodes.wrapper_input3.classList.toggle('hidden');
		}
		if (this.data && !this.data.phone_visible) {
			this.nodes.wrapper_input4.classList.toggle('hidden');
		}
		if (this.data && !this.data.email_visible) {
			this.nodes.wrapper_input5.classList.toggle('hidden');
		}
		if (this.data && !this.data.dob_visible) {
			this.nodes.wrapper_input6.classList.toggle('hidden');
		}

		if (this.data && this.data.title_isRequired) {
			this.nodes.wrapper_input1.classList.toggle('required');
		}
		if (this.data && this.data.firstName_isRequired) {
			this.nodes.wrapper_input2.classList.toggle('required');
		}
		if (this.data && this.data.email_isRequired) {
			this.nodes.wrapper_input3.classList.toggle('required');
		}
		if (this.data && this.data.phone_isRequired) {
			this.nodes.wrapper_input4.classList.toggle('required');
		}
		if (this.data && this.data.email_isRequired) {
			this.nodes.wrapper_input5.classList.toggle('required');
		}
		if (this.data && this.data.dob_isRequired) {
			this.nodes.wrapper_input6.classList.toggle('required');
		}

		// DOB end

		return this.nodes.wrapper;
	}
	// save(blockContent) {
	// 	return {
	// 		url: blockContent.value,
	// 	};
	// }
	setFullImageSource(image) {
		const imageUrlWithToken = this.uploader.config.uploader.addTokenToURL(image) + '';
		//	this.nodes.secureIcon.style.background = `url('${imageUrlWithToken}') center center / cover no-repeat`;
		this.nodes.secureIcon.src = imageUrlWithToken;
	}

	showFullImage() {
		setTimeout(() => {
			this.nodes.secureIcon.classList.remove(this.CSS.loader);
			this.setFullImageSource(this.data.secureIcon);
		}, LOADER_DELAY);
	}

	save(toolsContent) {
		// params for response
		const check_row1_title = this.nodes.check_row1_title.textContent;
		const check_row1_text = this.nodes.check_row1_text.textContent;
		const check_row1_className = toolsContent.querySelector('[name=check_row1_className]').value;
		const check_row1_info = toolsContent.querySelector('[name=check_row1_info]').checked;
		const check_row1_iconClass = toolsContent.querySelector('[name=check_row1_iconClass]').value;

		const title_visible = toolsContent.querySelector('[name=title_visible]').checked;
		const title_label = toolsContent
			.querySelectorAll('.cdx-moveDuration-wrapper-checkInput')[0]
			.querySelector('[contenteditable="true"]').textContent;
		const title_className = toolsContent.querySelector('[name=title_className]').value;
		const title_inputClassName = toolsContent.querySelector('[name=title_inputClassName]').value;
		const title_labelClassName = toolsContent.querySelector('[name=title_labelClassName]').value;
		const title_inputWrapperClassName = toolsContent.querySelector('[name=title_inputWrapperClassName]').value;
		const title_isRequired = toolsContent.querySelector('[name=title_isRequired]').checked;
		const title_items = toolsContent.querySelector('[name=title_items]').value;

		const firstName_visible = toolsContent.querySelector('[name=firstName_visible]').checked;
		const firstName_label = toolsContent
			.querySelectorAll('.cdx-moveDuration-wrapper-checkInput')[1]
			.querySelector('[contenteditable="true"]').textContent;
		const firstName_className = toolsContent.querySelector('[name=firstName_className]').value;
		const firstName_inputClassName = toolsContent.querySelector('[name=firstName_inputClassName]').value;
		const firstName_labelClassName = toolsContent.querySelector('[name=firstName_labelClassName]').value;
		const firstName_inputWrapperClassName = toolsContent.querySelector('[name=firstName_inputWrapperClassName]').value;
		const firstName_isRequired = toolsContent.querySelector('[name=firstName_isRequired]').checked;

		const lastName_visible = toolsContent.querySelector('[name=lastName_visible]').checked;
		const lastName_label = toolsContent
			.querySelectorAll('.cdx-moveDuration-wrapper-checkInput')[2]
			.querySelector('[contenteditable="true"]').textContent;
		const lastName_className = toolsContent.querySelector('[name=lastName_className]').value;
		const lastName_inputClassName = toolsContent.querySelector('[name=lastName_inputClassName]').value;
		const lastName_labelClassName = toolsContent.querySelector('[name=lastName_labelClassName]').value;
		const lastName_inputWrapperClassName = toolsContent.querySelector('[name=lastName_inputWrapperClassName]').value;
		const lastName_isRequired = toolsContent.querySelector('[name=lastName_isRequired]').checked;

		const phone_visible = toolsContent.querySelector('[name=phone_visible]').checked;
		const phone_validation = toolsContent.querySelector('[name=phone_validation]').checked;
		const phone_label = toolsContent
			.querySelectorAll('.cdx-moveDuration-wrapper-checkInput')[3]
			.querySelector('[contenteditable="true"]').textContent;
		const phone_className = toolsContent.querySelector('[name=phone_className]').value;
		const phone_inputClassName = toolsContent.querySelector('[name=phone_inputClassName]').value;
		const phone_labelClassName = toolsContent.querySelector('[name=phone_labelClassName]').value;
		const phone_inputWrapperClassName = toolsContent.querySelector('[name=phone_inputWrapperClassName]').value;
		const phone_isRequired = toolsContent.querySelector('[name=phone_isRequired]').checked;

		const email_visible = toolsContent.querySelector('[name=email_visible]').checked;
		const email_validation = toolsContent.querySelector('[name=email_validation]').checked;
		const email_label = toolsContent
			.querySelectorAll('.cdx-moveDuration-wrapper-checkInput')[4]
			.querySelector('[contenteditable="true"]').textContent;
		const email_className = toolsContent.querySelector('[name=email_className]').value;
		const email_inputClassName = toolsContent.querySelector('[name=email_inputClassName]').value;
		const email_labelClassName = toolsContent.querySelector('[name=email_labelClassName]').value;
		const email_inputWrapperClassName = toolsContent.querySelector('[name=email_inputWrapperClassName]').value;
		const email_isRequired = toolsContent.querySelector('[name=email_isRequired]').checked;

		const dob_visible = toolsContent.querySelector('[name=dob_visible]').checked;
		const dob_label = toolsContent
			.querySelectorAll('.cdx-moveDuration-wrapper-checkInput')[5]
			.querySelector('[contenteditable="true"]').textContent;
		const dob_className = toolsContent.querySelector('[name=dob_className]').value;
		const dob_inputClassName = toolsContent.querySelector('[name=dob_inputClassName]').value;
		const dob_labelClassName = toolsContent.querySelector('[name=dob_labelClassName]').value;
		const dob_inputWrapperClassName = toolsContent.querySelector('[name=dob_inputWrapperClassName]').value;
		const dob_isRequired = toolsContent.querySelector('[name=dob_isRequired]').checked;

		/**
		 * Fill missing fields with empty strings
		 */

		Object.assign(this.data, {
			check_row1_title: check_row1_title.trim() || '',
			check_row1_text: check_row1_text.trim() || '',
			check_row1_className: check_row1_className.trim() || '',
			check_row1_info: check_row1_info,
			check_row1_iconClass: check_row1_iconClass.trim() || '',
			title_visible: title_visible,
			title_label: title_label.trim() || '',
			title_className: title_className.trim() || '',
			title_inputClassName: title_inputClassName.trim() || '',
			title_labelClassName: title_labelClassName.trim() || '',
			title_inputWrapperClassName: title_inputWrapperClassName.trim() || '',
			title_isRequired: title_isRequired,
			title_items: title_items.trim() || '',
			firstName_visible: firstName_visible,
			firstName_label: firstName_label.trim() || '',
			firstName_className: firstName_className.trim() || '',
			firstName_inputClassName: firstName_inputClassName.trim() || '',
			firstName_labelClassName: firstName_labelClassName.trim() || '',
			firstName_inputWrapperClassName: firstName_inputWrapperClassName.trim() || '',
			firstName_isRequired: firstName_isRequired,
			lastName_visible: lastName_visible,
			lastName_label: lastName_label.trim() || '',
			lastName_className: lastName_className.trim() || '',
			lastName_inputClassName: lastName_inputClassName.trim() || '',
			lastName_labelClassName: lastName_labelClassName.trim() || '',
			lastName_inputWrapperClassName: lastName_inputWrapperClassName.trim() || '',
			lastName_isRequired: lastName_isRequired,
			phone_visible: phone_visible,
			phone_label: phone_label.trim() || '',
			phone_className: phone_className.trim() || '',
			phone_inputClassName: phone_inputClassName.trim() || '',
			phone_labelClassName: phone_labelClassName.trim() || '',
			phone_inputWrapperClassName: phone_inputWrapperClassName.trim() || '',
			phone_isRequired: phone_isRequired,
			email_visible: email_visible,
			email_label: email_label.trim() || '',
			email_className: email_className.trim() || '',
			email_inputClassName: email_inputClassName.trim() || '',
			email_labelClassName: email_labelClassName.trim() || '',
			email_inputWrapperClassName: email_inputWrapperClassName.trim() || '',
			email_isRequired: email_isRequired,
			dob_visible: dob_visible,
			dob_label: dob_label.trim() || '',
			dob_className: dob_className.trim() || '',
			dob_inputClassName: dob_inputClassName.trim() || '',
			dob_labelClassName: dob_labelClassName.trim() || '',
			dob_inputWrapperClassName: dob_inputWrapperClassName.trim() || '',
			dob_isRequired: dob_isRequired,
			phone_validation: phone_validation,
			email_validation: email_validation,
		});
		return this.data;
	}

	stopLoading() {
		setTimeout(() => {
			this.nodes.secureIcon.classList.remove(this.CSS.loader);
			this.nodes.secureIcon.removeAttribute('style');
		}, LOADER_DELAY);
	}

	/**
	 * Show loader when file upload started
	 */
	addLoader() {
		this.nodes.secureIcon.style.background = 'none';
		this.nodes.secureIcon.classList.add(this.CSS.loader);
	}

	/**
	 * If file uploading failed, remove loader and show notification
	 * @param {string} errorMessage -  error message
	 */
	uploadingFailed(errorMessage) {
		this.stopLoading();

		this.api.notifier.show({
			message: errorMessage,
			style: 'error',
		});
	}

	get CSS() {
		return {
			baseClass: this.api.styles.block,
			input: this.api.styles.input,
			loader: this.api.styles.loader,

			/**
			 * Tool's classes
			 */
			wrapper: 'cdx-moveDuration-wrapper',
			wrapper_check1: 'cdx-moveDuration-wrapper-check',
			wrapper_check2: 'cdx-moveDuration-wrapper-check',
			wrapper_input1: 'cdx-moveDuration-wrapper-checkInput',
			wrapper_input2: 'cdx-moveDuration-wrapper-checkInput',
			wrapper_input3: 'cdx-moveDuration-wrapper-checkInput',

			check_row1_title: 'cdx-moveDuration-wrapper-checkTitle',
			check_row2_title: 'cdx-moveDuration-wrapper-checkTitle',

			check_row1_text: 'cdx-moveDuration-wrapper-checkText',
			check_row2_text: 'cdx-moveDuration-wrapper-checkText',

			start_label: 'cdx-moveDuration-wrapper-Label',
			start2_label: 'cdx-moveDuration-wrapper-Label',
			stop_label: 'cdx-moveDuration-wrapper-Label',
		};
	}

	validate(savedData) {
		/**
		 * Return false if fields are empty
		 */
		return (
			savedData.check_row1_title ||
			savedData.check_row1_text ||
			savedData.check_row1_className ||
			savedData.check_row1_info ||
			savedData.title_visible ||
			savedData.title_label ||
			savedData.title_className ||
			savedData.title_inputClassName || // input inputClassName prop
			savedData.title_labelClassName || // labelClassName prop
			savedData.title_inputWrapperClassName || // inputWrapperClassName
			savedData.title_isRequired || // isRequired
			savedData.title_items || // items
			savedData.firstName_visible ||
			savedData.firstName_label ||
			savedData.firstName_className ||
			savedData.firstName_inputClassName ||
			savedData.firstName_labelClassName ||
			savedData.firstName_inputWrapperClassName ||
			savedData.firstName_isRequired ||
			savedData.lastName_visible ||
			savedData.lastName_label ||
			savedData.lastName_className ||
			savedData.lastName_inputClassName ||
			savedData.lastName_labelClassName ||
			savedData.lastName_inputWrapperClassName ||
			savedData.lastName_isRequired ||
			savedData.phone_visible ||
			savedData.phone_label ||
			savedData.phone_className ||
			savedData.phone_inputClassName ||
			savedData.phone_labelClassName ||
			savedData.phone_inputWrapperClassName ||
			savedData.phone_isRequired ||
			savedData.email_visible ||
			savedData.email_label ||
			savedData.email_className ||
			savedData.email_inputClassName ||
			savedData.email_labelClassName ||
			savedData.email_inputWrapperClassName ||
			savedData.email_isRequired ||
			savedData.dob_visible ||
			savedData.dob_label ||
			savedData.dob_className ||
			savedData.dob_inputClassName ||
			savedData.dob_labelClassName ||
			savedData.dob_inputWrapperClassName ||
			savedData.dob_isRequired
		);
	}

	make(tagName, classNames = null, attributes = {}, content = '') {
		const el = document.createElement(tagName);

		if (Array.isArray(classNames)) {
			el.classList.add(...classNames);
		} else if (classNames) {
			el.classList.add(classNames);
		}

		for (const attrName in attributes) {
			el[attrName] = attributes[attrName];
		}
		if (content !== '') {
			el.innerHTML = content;
		}

		return el;
	}

	_toggleTune(tune, type = '') {
		if (type == '') {
			for (var item of this.nodes.wrapper.querySelectorAll('.settingsWrapper')) {
				item.classList.remove('active');
			}
		}
		if (tune == 'check1') {
			this.nodes.wrapper
				.querySelectorAll('.cdx-moveDuration-wrapper-check')[0]
				.querySelector('.settingsWrapper')
				.classList.toggle('active');
		}
		if (tune == 'check2') {
			this.nodes.wrapper
				.querySelectorAll('.cdx-moveDuration-wrapper-check')[1]
				.querySelector('.settingsWrapper')
				.classList.toggle('active');
		}
		if (tune == 'input1') {
			this.nodes.wrapper
				.querySelectorAll('.cdx-moveDuration-wrapper-checkInput')[0]
				.querySelector('.settingsWrapper')
				.classList.toggle('active');
		}
		if (tune == 'input2') {
			this.nodes.wrapper
				.querySelectorAll('.cdx-moveDuration-wrapper-checkInput')[1]
				.querySelector('.settingsWrapper')
				.classList.toggle('active');
		}
		if (tune == 'input3') {
			this.nodes.wrapper
				.querySelectorAll('.cdx-moveDuration-wrapper-checkInput')[2]
				.querySelector('.settingsWrapper')
				.classList.toggle('active');
		}
		if (tune == 'input4') {
			this.nodes.wrapper
				.querySelectorAll('.cdx-moveDuration-wrapper-checkInput')[3]
				.querySelector('.settingsWrapper')
				.classList.toggle('active');
		}
		if (tune == 'input5') {
			this.nodes.wrapper
				.querySelectorAll('.cdx-moveDuration-wrapper-checkInput')[4]
				.querySelector('.settingsWrapper')
				.classList.toggle('active');
		}
		if (tune == 'input6') {
			this.nodes.wrapper
				.querySelectorAll('.cdx-moveDuration-wrapper-checkInput')[5]
				.querySelector('.settingsWrapper')
				.classList.toggle('active');
		}
		// }
	}
}
